var t={methods:{one:{},two:{},three:{},four:{}},model:{one:{},two:{},three:{}},compute:{},hooks:[]};const e={compute:function(t){const{world:e}=this,r=e.compute;return"string"==typeof t&&r.hasOwnProperty(t)?r[t](this):(t=>"[object Array]"===Object.prototype.toString.call(t))(t)?t.forEach((o=>{e.compute.hasOwnProperty(o)?r[o](this):console.warn("no compute:",t)})):"function"==typeof t?t(this):console.warn("no compute:",t),this}};var r=e;var o={forEach:function(t){return this.fullPointer.forEach(((e,r)=>{let o=this.update([e]);t(o,r)})),this},map:function(t,e){let r=this.fullPointer.map(((e,r)=>{let o=this.update([e]),n=t(o,r);return void 0===n?this.none():n}));if(0===r.length)return e||this.update([]);if(void 0!==r[0]){if("string"==typeof r[0])return r;if("object"==typeof r[0]&&(null===r[0]||!r[0].isView))return r}let o=[];return r.forEach((t=>{o=o.concat(t.fullPointer)})),this.toView(o)},filter:function(t){let e=this.fullPointer;return e=e.filter(((e,r)=>{let o=this.update([e]);return t(o,r)})),this.update(e)},find:function(t){let e=this.fullPointer.find(((e,r)=>{let o=this.update([e]);return t(o,r)}));return this.update([e])},some:function(t){return this.fullPointer.some(((e,r)=>{let o=this.update([e]);return t(o,r)}))},random:function(t=1){let e=this.fullPointer,r=Math.floor(Math.random()*e.length);return r+t>this.length&&(r=this.length-t,r=r<0?0:r),e=e.slice(r,r+t),this.update(e)}};const n={termList:function(){return this.methods.one.termList(this.docs)},terms:function(t){let e=this.match(".");return"number"==typeof t?e.eq(t):e},groups:function(t){if(t||0===t)return this.update(this._groups[t]||[]);let e={};return Object.keys(this._groups).forEach((t=>{e[t]=this.update(this._groups[t])})),e},eq:function(t){let e=this.pointer;return e||(e=this.docs.map(((t,e)=>[e]))),e[t]?this.update([e[t]]):this.none()},first:function(){return this.eq(0)},last:function(){let t=this.fullPointer.length-1;return this.eq(t)},firstTerms:function(){return this.match("^.")},lastTerms:function(){return this.match(".$")},slice:function(t,e){let r=this.pointer||this.docs.map(((t,e)=>[e]));return r=r.slice(t,e),this.update(r)},all:function(){return this.update().toView()},fullSentences:function(){let t=this.fullPointer.map((t=>[t[0]]));return this.update(t).toView()},none:function(){return this.update([])},isDoc:function(t){if(!t||!t.isView)return!1;let e=this.fullPointer,r=t.fullPointer;return!e.length!==r.length&&e.every(((t,e)=>!!r[e]&&(t[0]===r[e][0]&&t[1]===r[e][1]&&t[2]===r[e][2])))},wordCount:function(){return this.docs.reduce(((t,e)=>(t+=e.filter((t=>""!==t.text)).length,t)),0)},isFull:function(){let t=this.pointer;if(!t)return!0;let e=this.document;for(let r=0;r<t.length;r+=1){let[o,n,s]=t[r];if(o!==r||0!==n)return!1;if(e[o].length>s)return!1}return!0},getNth:function(t){return"number"==typeof t?this.eq(t):"string"==typeof t?this.if(t):this}};n.group=n.groups,n.fullSentence=n.fullSentences,n.sentence=n.fullSentences,n.lastTerm=n.lastTerms,n.firstTerm=n.firstTerms;var s=n;const i=Object.assign({},s,r,o);i.get=i.eq;var a=i;class View{constructor(e,r,o={}){[["document",e],["world",t],["_groups",o],["_cache",null],["viewType","View"]].forEach((t=>{Object.defineProperty(this,t[0],{value:t[1],writable:!0})})),this.ptrs=r}get docs(){let e=this.document;return this.ptrs&&(e=t.methods.one.getDoc(this.ptrs,this.document)),e}get pointer(){return this.ptrs}get methods(){return this.world.methods}get model(){return this.world.model}get hooks(){return this.world.hooks}get isView(){return!0}get found(){return this.docs.length>0}get length(){return this.docs.length}get fullPointer(){let{docs:t,ptrs:e,document:r}=this,o=e||t.map(((t,e)=>[e]));return o.map((t=>{let[e,o,n,s,i]=t;return o=o||0,n=n||(r[e]||[]).length,r[e]&&r[e][o]&&(s=s||r[e][o].id,r[e][n-1]&&(i=i||r[e][n-1].id)),[e,o,n,s,i]}))}update(t){let e=new View(this.document,t);if(this._cache&&t&&t.length>0){let r=[];t.forEach(((t,e)=>{let[o,n,s]=t;(1===t.length||0===n&&this.document[o].length===s)&&(r[e]=this._cache[o])})),r.length>0&&(e._cache=r)}return e.world=this.world,e}toView(t){return new View(this.document,t||this.pointer)}fromText(t){const{methods:e}=this;let r=e.one.tokenize.fromString(t,this.world),o=new View(r);return o.world=this.world,o.compute(["normal","lexicon"]),this.world.compute.preTagger&&o.compute("preTagger"),o}clone(){let t=this.document.slice(0);t=t.map((t=>t.map((t=>((t=Object.assign({},t)).tags=new Set(t.tags),t)))));let e=this.update(this.pointer);return e.document=t,e._cache=this._cache,e}}Object.assign(View.prototype,a);var l=View;const u=function(t){return t&&"object"==typeof t&&!Array.isArray(t)};function c(t,e){if(u(e))for(const r in e)u(e[r])?(t[r]||Object.assign(t,{[r]:{}}),c(t[r],e[r])):Object.assign(t,{[r]:e[r]});return t}var h=function(t,e,r,o){const{methods:n,model:s,compute:i,hooks:a}=e;t.methods&&function(t,e){for(const r in e)t[r]=t[r]||{},Object.assign(t[r],e[r])}(n,t.methods),t.model&&c(s,t.model),t.irregulars&&function(t,e){let r=t.two.models||{};Object.keys(e).forEach((t=>{e[t].pastTense&&(r.toPast&&(r.toPast.exceptions[t]=e[t].pastTense),r.fromPast&&(r.fromPast.exceptions[e[t].pastTense]=t)),e[t].presentTense&&(r.toPresent&&(r.toPresent.exceptions[t]=e[t].presentTense),r.fromPresent&&(r.fromPresent.exceptions[e[t].presentTense]=t)),e[t].gerund&&(r.toGerund&&(r.toGerund.exceptions[t]=e[t].gerund),r.fromGerund&&(r.fromGerund.exceptions[e[t].gerund]=t)),e[t].comparative&&(r.toComparative&&(r.toComparative.exceptions[t]=e[t].comparative),r.fromComparative&&(r.fromComparative.exceptions[e[t].comparative]=t)),e[t].superlative&&(r.toSuperlative&&(r.toSuperlative.exceptions[t]=e[t].superlative),r.fromSuperlative&&(r.fromSuperlative.exceptions[e[t].superlative]=t))}))}(s,t.irregulars),t.compute&&Object.assign(i,t.compute),a&&(e.hooks=a.concat(t.hooks||[])),t.api&&t.api(r),t.lib&&Object.keys(t.lib).forEach((e=>o[e]=t.lib[e])),t.tags&&o.addTags(t.tags),t.words&&o.addWords(t.words),t.mutate&&t.mutate(e)};const d=function(t){return"[object Array]"===Object.prototype.toString.call(t)};var f=function(t,e,r){const{methods:o}=r;let n=new e([]);if(n.world=r,"number"==typeof t&&(t=String(t)),!t)return n;if("string"==typeof t){return new e(o.one.tokenize.fromString(t,r))}if(s=t,"[object Object]"===Object.prototype.toString.call(s)&&t.isView)return new e(t.document,t.ptrs);var s;if(d(t)){if(d(t[0])){let r=t.map((t=>t.map((t=>({text:t,normal:t,pre:"",post:" ",tags:new Set})))));return new e(r)}let r=function(t){return t.map((t=>t.terms.map((t=>(d(t.tags)&&(t.tags=new Set(t.tags)),t)))))}(t);return new e(r)}return n};let p=Object.assign({},t);const m=function(t,e){e&&m.addWords(e);let r=f(t,l,p);return t&&r.compute(p.hooks),r};Object.defineProperty(m,"_world",{value:p,writable:!0}),m.tokenize=function(t,e){const{compute:r}=this._world;e&&m.addWords(e);let o=f(t,l,p);return r.contractions&&o.compute(["alias","normal","machine","contractions"]),o},m.plugin=function(t){return h(t,this._world,l,this),this},m.extend=m.plugin,m.world=function(){return this._world},m.model=function(){return this._world.model},m.methods=function(){return this._world.methods},m.hooks=function(){return this._world.hooks},m.verbose=function(t){const e="undefined"!=typeof process&&process.env?process.env:self.env||{};return e.DEBUG_TAGS="tagger"===t||!0===t||"",e.DEBUG_MATCH="match"===t||!0===t||"",e.DEBUG_CHUNKS="chunker"===t||!0===t||"",this},m.version="14.8.1";var w=m;var v=function(t){let e=t.map((t=>{let e=new Set;return t.forEach((t=>{""!==t.normal&&e.add(t.normal),t.switch&&e.add(`%${t.switch}%`),t.implicit&&e.add(t.implicit),t.machine&&e.add(t.machine),t.root&&e.add(t.root),t.alias&&t.alias.forEach((t=>e.add(t)));let r=Array.from(t.tags);for(let t=0;t<r.length;t+=1)e.add("#"+r[t])})),e}));return e};const b={cache:function(){return this._cache=this.methods.one.cacheDoc(this.document),this},uncache:function(){return this._cache=null,this}};var y=function(t){Object.assign(t.prototype,b)},P={api:y,compute:{cache:function(t){t._cache=t.methods.one.cacheDoc(t.document)}},methods:{one:{cacheDoc:v}}};const j=t=>/^\p{Lu}[\p{Ll}'’]/u.test(t)||/^\p{Lu}$/u.test(t),x=(t,e,r)=>{if(r.forEach((t=>t.dirty=!0)),t){let o=[e,0].concat(r);Array.prototype.splice.apply(t,o)}return t},E=function(t){let e=t[t.length-1];!e||/ $/.test(e.post)||/[-–—]/.test(e.post)||(e.post+=" ")},O=(t,e,r)=>{const o=/[-.?!,;:)–—'"]/g;let n=t[e-1];if(!n)return;let s=n.post;if(o.test(s)){let t=s.match(o).join(""),e=r[r.length-1];e.post=t+e.post,n.post=n.post.replace(o,"")}},k=function(t,e,r,o){let[n,s,i]=e;0===s||i===o[n].length?E(r):(E(r),E([t[e[1]]])),function(t,e,r){let o=t[e];if(0!==e||!j(o.text))return;r[0].text=r[0].text.replace(/^\p{Ll}/u,(t=>t.toUpperCase()));let n=t[e];n.tags.has("ProperNoun")||n.tags.has("Acronym")||j(n.text)&&n.text.length>1&&(n.text=(s=n.text,s.replace(/^\p{Lu}/u,(t=>t.toLowerCase()))));var s}(t,s,r),x(t,s,r)};let A=0;const S=t=>(t=t.length<3?"0"+t:t).length<3?"0"+t:t;var T=function(t){let[e,r]=t.index||[0,0];A+=1,A=A>46655?0:A,e=e>46655?0:e,r=r>1294?0:r;let o=S(A.toString(36));o+=S(e.toString(36));let n=r.toString(36);return n=n.length<2?"0"+n:n,o+=n,o+=parseInt(36*Math.random(),10).toString(36),t.normal+"|"+o.toUpperCase()};const _=function(t){if(t.has("@hasContraction")&&"function"==typeof t.contractions){t.grow("@hasContraction").contractions().expand()}},C=t=>"[object Array]"===Object.prototype.toString.call(t),N=function(t,e,r){const{document:o,world:n}=e;e.uncache();let s=e.fullPointer,i=e.fullPointer;e.forEach(((a,l)=>{let u=a.fullPointer[0],[c]=u,h=o[c],d=function(t,e){const{methods:r}=e;return"string"==typeof t?r.one.tokenize.fromString(t,e)[0]:"object"==typeof t&&t.isView?t.clone().docs[0]||[]:C(t)?C(t[0])?t[0]:t:[]}(t,n);0!==d.length&&(d=function(t){return t.map((t=>(t.id=T(t),t)))}(d),r?(_(e.update([u]).firstTerm()),k(h,u,d,o)):(_(e.update([u]).lastTerm()),function(t,e,r,o){let[n,,s]=e,i=(o[n]||[]).length;s<i?(O(t,s,r),E(r)):i===s&&(E(t),O(t,s,r),o[n+1]&&(r[r.length-1].post+=" ")),x(t,e[2],r),e[4]=r[r.length-1].id}(h,u,d,o)),o[c]&&o[c][u[1]]&&(u[3]=o[c][u[1]].id),i[l]=u,u[2]+=d.length,s[l]=u)}));let a=e.toView(s);return e.ptrs=i,a.compute(["id","index","lexicon"]),a.world.compute.preTagger&&a.compute("preTagger"),a},V={insertAfter:function(t){return N(t,this,!1)},insertBefore:function(t){return N(t,this,!0)}};V.append=V.insertAfter,V.prepend=V.insertBefore,V.insert=V.insertAfter;var q=V;const F=/\$[0-9a-z]+/g,$={};$.replaceWith=function(t,e={}){let r=this.fullPointer,o=this;if(this.uncache(),"function"==typeof t)return function(t,e){return t.forEach((t=>{let r=e(t);t.replaceWith(r)})),t}(o,t);t=function(t,e){if("string"!=typeof t)return t;let r=e.groups();return t=t.replace(F,(t=>{let e=t.replace(/\$/,"");return r.hasOwnProperty(e)?r[e].text():t})),t}(t,o);let n=this.update(r);r=r.map((t=>t.slice(0,3)));let s=(n.docs[0]||[]).map((t=>Array.from(t.tags)));if("string"==typeof t&&(t=this.fromText(t).compute("id")),o.insertAfter(t),n.has("@hasContraction")&&o.contractions){o.grow("@hasContraction+").contractions().expand()}o.delete(n);let i=o.toView(r).compute(["index","lexicon"]);return i.world.compute.preTagger&&i.compute("preTagger"),e.tags&&i.terms().forEach(((t,e)=>{t.tagSafe(s[e])})),e.case&&i.docs[0]&&i.docs[0][0]&&0===i.docs[0][0].index[1]&&(i.docs[0][0].text=i.docs[0][0].text.replace(/\w\S*/g,(t=>t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()))),i},$.replace=function(t,e,r){if(t&&!e)return this.replaceWith(t,r);let o=this.match(t);return o.found?(this.soften(),o.replaceWith(e,r)):this};var z=$;var D=function(t,e){e.forEach((e=>{let[r,o,n]=e,s=n-o;t[r]&&(n===t[r].length&&n>1&&function(t,e){let r=t.length-1,o=t[r],n=t[r-e];n&&o&&(n.post+=o.post,n.post=n.post.replace(/ +([.?!,;:])/,"$1"),n.post=n.post.replace(/[,;:]+([.?!])/,"$1"))}(t[r],s),t[r].splice(o,s))}));for(let e=t.length-1;e>=0;e-=1)if(0===t[e].length&&(t.splice(e,1),e===t.length&&t[e-1])){let r=t[e-1],o=r[r.length-1];o&&(o.post=o.post.trimEnd())}return t};const G={remove:function(t){const{indexN:e}=this.methods.one.pointer;this.uncache();let r=this.all(),o=this;t&&(r=this,o=this.match(t));let n=!r.ptrs;if(o.has("@hasContraction")&&o.contractions){o.grow("@hasContraction").contractions().expand()}let s=r.fullPointer,i=o.fullPointer.reverse(),a=D(this.document,i);return s=function(t,e){return t=t.map((t=>{let[r]=t;return e[r]?(e[r].forEach((e=>{let r=e[2]-e[1];t[1]<=e[1]&&t[2]>=e[2]&&(t[2]-=r)})),t):t})),t.forEach(((e,r)=>{if(0===e[1]&&0==e[2])for(let e=r+1;e<t.length;e+=1)t[e][0]-=1,t[e][0]<0&&(t[e][0]=0)})),t=(t=t.filter((t=>t[2]-t[1]>0))).map((t=>(t[3]=null,t[4]=null,t)))}(s,e(i)),r.ptrs=s,r.document=a,r.compute("index"),n&&(r.ptrs=void 0),t?r.toView(s):(this.ptrs=[],r.none())}};G.delete=G.remove;var L=G;const M={pre:function(t,e){return void 0===t&&this.found?this.docs[0][0].pre:(this.docs.forEach((r=>{let o=r[0];!0===e?o.pre+=t:o.pre=t})),this)},post:function(t,e){if(void 0===t){let t=this.docs[this.docs.length-1];return t[t.length-1].post}return this.docs.forEach((r=>{let o=r[r.length-1];!0===e?o.post+=t:o.post=t})),this},trim:function(){if(!this.found)return this;let t=this.docs,e=t[0][0];e.pre=e.pre.trimStart();let r=t[t.length-1],o=r[r.length-1];return o.post=o.post.trimEnd(),this},hyphenate:function(){return this.docs.forEach((t=>{t.forEach(((e,r)=>{0!==r&&(e.pre=""),t[r+1]&&(e.post="-")}))})),this},dehyphenate:function(){const t=/[-–—]/;return this.docs.forEach((e=>{e.forEach((e=>{t.test(e.post)&&(e.post=" ")}))})),this},toQuotations:function(t,e){return t=t||'"',e=e||'"',this.docs.forEach((r=>{r[0].pre=t+r[0].pre;let o=r[r.length-1];o.post=e+o.post})),this},toParentheses:function(t,e){return t=t||"(",e=e||")",this.docs.forEach((r=>{r[0].pre=t+r[0].pre;let o=r[r.length-1];o.post=e+o.post})),this}};M.deHyphenate=M.dehyphenate,M.toQuotation=M.toQuotations;var I=M;var U={alpha:(t,e)=>t.normal<e.normal?-1:t.normal>e.normal?1:0,length:(t,e)=>{let r=t.normal.trim().length,o=e.normal.trim().length;return r<o?1:r>o?-1:0},wordCount:(t,e)=>t.words<e.words?1:t.words>e.words?-1:0,sequential:(t,e)=>t[0]<e[0]?1:t[0]>e[0]?-1:t[1]>e[1]?1:-1,byFreq:function(t){let e={};return t.forEach((t=>{e[t.normal]=e[t.normal]||0,e[t.normal]+=1})),t.sort(((t,r)=>{let o=e[t.normal],n=e[r.normal];return o<n?1:o>n?-1:0})),t}};const B=new Set(["index","sequence","seq","sequential","chron","chronological"]),W=new Set(["freq","frequency","topk","repeats"]),R=new Set(["alpha","alphabetical"]);var H={unique:function(){let t=new Set;return this.filter((e=>{let r=e.text("machine");return!t.has(r)&&(t.add(r),!0)}))},reverse:function(){let t=this.pointer||this.docs.map(((t,e)=>[e]));return t=[].concat(t),t=t.reverse(),this._cache&&(this._cache=this._cache.reverse()),this.update(t)},sort:function(t){let{docs:e,pointer:r}=this;if(this.uncache(),"function"==typeof t)return function(t,e){let r=t.fullPointer;return r=r.sort(((r,o)=>(r=t.update([r]),o=t.update([o]),e(r,o)))),t.ptrs=r,t}(this,t);t=t||"alpha";let o=r||e.map(((t,e)=>[e])),n=e.map(((t,e)=>({index:e,words:t.length,normal:t.map((t=>t.machine||t.normal||"")).join(" "),pointer:o[e]})));return B.has(t)&&(t="sequential"),R.has(t)&&(t="alpha"),W.has(t)?(n=U.byFreq(n),this.update(n.map((t=>t.pointer)))):"function"==typeof U[t]?(n=n.sort(U[t]),this.update(n.map((t=>t.pointer)))):this}};const Q=function(t,e){if(t.length>0){let e=t[t.length-1],r=e[e.length-1];!1===/ /.test(r.post)&&(r.post+=" ")}return t=t.concat(e)};var Z={concat:function(t){if("string"==typeof t){let e=this.fromText(t);if(this.found&&this.ptrs){let t=this.fullPointer,r=t[t.length-1][0];this.document.splice(r,0,...e.document)}else this.document=this.document.concat(e.document);return this.all().compute("index")}if("object"==typeof t&&t.isView)return function(t,e){if(t.document===e.document){let r=t.fullPointer.concat(e.fullPointer);return t.toView(r).compute("index")}return e.fullPointer.forEach((e=>{e[0]+=t.document.length})),t.document=Q(t.document,e.docs),t.all()}(this,t);if(e=t,"[object Array]"===Object.prototype.toString.call(e)){let e=Q(this.document,t);return this.document=e,this.all()}var e;return this}};var K={harden:function(){return this.ptrs=this.fullPointer,this},soften:function(){let t=this.ptrs;return!t||t.length<1||(t=t.map((t=>t.slice(0,3))),this.ptrs=t),this}};const Y=Object.assign({},{toLowerCase:function(){return this.termList().forEach((t=>{t.text=t.text.toLowerCase()})),this},toUpperCase:function(){return this.termList().forEach((t=>{t.text=t.text.toUpperCase()})),this},toTitleCase:function(){return this.termList().forEach((t=>{t.text=t.text.replace(/^ *[a-z\u00C0-\u00FF]/,(t=>t.toUpperCase()))})),this},toCamelCase:function(){return this.docs.forEach((t=>{t.forEach(((e,r)=>{0!==r&&(e.text=e.text.replace(/^ *[a-z\u00C0-\u00FF]/,(t=>t.toUpperCase()))),r!==t.length-1&&(e.post="")}))})),this}},q,z,L,I,H,Z,K);var J=function(t){Object.assign(t.prototype,Y)};const X={id:function(t){let e=t.docs;for(let t=0;t<e.length;t+=1)for(let r=0;r<e[t].length;r+=1){let o=e[t][r];o.id=o.id||T(o)}}};var tt={api:J,compute:X},et={one:{contractions:[{word:"@",out:["at"]},{word:"alot",out:["a","lot"]},{word:"brb",out:["be","right","back"]},{word:"cannot",out:["can","not"]},{word:"cant",out:["can","not"]},{word:"dont",out:["do","not"]},{word:"dun",out:["do","not"]},{word:"wont",out:["will","not"]},{word:"can't",out:["can","not"]},{word:"shan't",out:["should","not"]},{word:"won't",out:["will","not"]},{word:"that's",out:["that","is"]},{word:"what's",out:["what","is"]},{word:"let's",out:["let","us"]},{word:"there's",out:["there","is"]},{word:"dunno",out:["do","not","know"]},{word:"gonna",out:["going","to"]},{word:"gotta",out:["have","got","to"]},{word:"gimme",out:["give","me"]},{word:"tryna",out:["trying","to"]},{word:"gtg",out:["got","to","go"]},{word:"im",out:["i","am"]},{word:"imma",out:["I","will"]},{word:"imo",out:["in","my","opinion"]},{word:"irl",out:["in","real","life"]},{word:"ive",out:["i","have"]},{word:"rn",out:["right","now"]},{word:"tbh",out:["to","be","honest"]},{word:"wanna",out:["want","to"]},{word:"c'mere",out:["come","here"]},{word:"c'mon",out:["come","on"]},{word:"howd",out:["how","did"]},{word:"whatd",out:["what","did"]},{word:"whend",out:["when","did"]},{word:"whered",out:["where","did"]},{word:"shoulda",out:["should","have"]},{word:"coulda",out:["coulda","have"]},{word:"woulda",out:["woulda","have"]},{word:"musta",out:["must","have"]},{word:"tis",out:["it","is"]},{word:"twas",out:["it","was"]},{word:"y'know",out:["you","know"]},{word:"ne'er",out:["never"]},{word:"o'er",out:["over"]},{after:"ll",out:["will"]},{after:"ve",out:["have"]},{after:"re",out:["are"]},{after:"m",out:["am"]},{before:"c",out:["ce"]},{before:"m",out:["me"]},{before:"n",out:["ne"]},{before:"qu",out:["que"]},{before:"s",out:["se"]},{before:"t",out:["tu"]}]}};var rt=function(t,e,r){let[o,n]=e;r&&0!==r.length&&(r=r.map(((t,e)=>(t.implicit=t.text,t.machine=t.text,t.pre="",t.post="",t.text="",t.normal="",t.index=[o,n+e],t))),r[0]&&(r[0].pre=t[o][n].pre,r[r.length-1].post=t[o][n].post,r[0].text=t[o][n].text,r[0].normal=t[o][n].normal),t[o].splice(n,1,...r))};const ot=/'/,nt=new Set(["what","how","when","where","why"]),st=new Set(["be","go","start","think","need"]),it=new Set(["been","gone"]);var at=function(t,e){let r=t[e].normal.split(ot)[0];if(nt.has(r))return[r,"did"];if(t[e+1]){if(it.has(t[e+1].normal))return[r,"had"];if(st.has(t[e+1].normal))return[r,"would"]}return null};var lt=function(t,e){if("ain't"===t[e].normal||"aint"===t[e].normal)return null;return[t[e].normal.replace(/n't/,""),"not"]};const ut=/'/;var ct=(t,e)=>["je",t[e].normal.split(ut)[1]],ht=(t,e)=>{let r=t[e].normal.split(ut)[1];return r&&r.endsWith("e")?["la",r]:["le",r]},dt=(t,e)=>{let r=t[e].normal.split(ut)[1];return r&&r.endsWith("e")?["du",r]:r&&r.endsWith("s")?["des",r]:["de",r]};const ft=/^([0-9.]{1,4}[a-z]{0,2}) ?[-–—] ?([0-9]{1,4}[a-z]{0,2})$/i,pt=/^([0-9]{1,2}(:[0-9][0-9])?(am|pm)?) ?[-–—] ?([0-9]{1,2}(:[0-9][0-9])?(am|pm)?)$/i,mt=/^[0-9]{3}-[0-9]{4}$/;var gt=function(t,e){let r=t[e],o=r.text.match(ft);return null!==o?!0===r.tags.has("PhoneNumber")||mt.test(r.text)?null:[o[1],"to",o[2]]:(o=r.text.match(pt),null!==o?[o[1],"to",o[4]]:null)};const wt=/^([+-]?[0-9][.,0-9]*)([a-z°²³µ/]+)$/,vt=new Set(["st","nd","rd","th","am","pm","max","°","s","e"]);var bt=function(t,e){let r=t[e].text.match(wt);if(null!==r){let t=r[2].toLowerCase().trim();return vt.has(t)?null:[r[1],t]}return null};const yt=/'/,Pt=/^[0-9][^-–—]*[-–—].*?[0-9]/,jt=function(t,e,r,o){let n=e.update();n.document=[t];let s=r+o;r>0&&(r-=1),t[s]&&(s+=1),n.ptrs=[[0,r,s]]},xt={t:(t,e)=>lt(t,e),d:(t,e)=>at(t,e)},Et={j:(t,e)=>ct(t,e),l:(t,e)=>ht(t,e),d:(t,e)=>dt(t,e)},Ot=function(t,e,r,o){for(let n=0;n<t.length;n+=1){let s=t[n];if(s.word===e.normal)return s.out;if(null!==o&&o===s.after)return[r].concat(s.out);if(null!==r&&r===s.before)return s.out.concat(o)}return null},kt=function(t,e){let r=e.fromText(t.join(" "));return r.compute(["id","alias"]),r.docs[0]};var At=t=>{let{world:e,document:r}=t;const{model:o,methods:n}=e;let s=o.one.contractions||[];new Set(o.one.units||[]),r.forEach(((o,i)=>{for(let a=o.length-1;a>=0;a-=1){let l=null,u=null;!0===yt.test(o[a].normal)&&([l,u]=o[a].normal.split(yt));let c=Ot(s,o[a],l,u);!c&&xt.hasOwnProperty(u)&&(c=xt[u](o,a,e)),!c&&Et.hasOwnProperty(l)&&(c=Et[l](o,a)),c?(c=kt(c,t),rt(r,[i,a],c),jt(r[i],t,a,c.length)):Pt.test(o[a].normal)?(c=gt(o,a),c&&(c=kt(c,t),rt(r,[i,a],c),n.one.setTag(c,"NumberRange",e),c[2]&&c[2].tags.has("Time")&&n.one.setTag([c[0]],"Time",e,null,"time-range"),jt(r[i],t,a,c.length))):(c=bt(o,a),c&&(c=kt(c,t),rt(r,[i,a],c),n.one.setTag([c[1]],"Unit",e,null,"contraction-unit")))}}))};var St={model:et,compute:{contractions:At},hooks:["contractions"]};var Tt=function(t,e,r){const{model:o,methods:n}=r,s=n.one.setTag,i=o.one._multiCache||{},a=o.one.lexicon||{};let l=t[e],u=l.machine||l.normal;return void 0!==t[e+1]&&!0===i[u]?function(t,e,r,o,n){let s=e+4>t.length?t.length-e:4,i=t[e].machine||t[e].normal;for(let a=1;a<s;a+=1){let s=t[e+a];if(i+=" "+(s.machine||s.normal),!0===r.hasOwnProperty(i)){let s=r[i],l=t.slice(e,e+a+1);return o(l,s,n,!1,"1-multi-lexicon"),!s||2!==s.length||"PhrasalVerb"!==s[0]&&"PhrasalVerb"!==s[1]||o([l[1]],"Particle",n,!1,"1-phrasal-particle"),!0}}return!1}(t,e,a,s,r):null};const _t=/^(under|over|mis|re|un|dis|semi|pre|post)-?/,Ct=new Set(["Verb","Infinitive","PastTense","Gerund","PresentTense","Adjective","Participle"]);var Nt=function(t,e,r){const{model:o,methods:n}=r,s=n.one.setTag,i=o.one.lexicon;let a=t[e],l=a.machine||a.normal;if(void 0!==i[l]&&i.hasOwnProperty(l)){return s([a],i[l],r,!1,"1-lexicon"),!0}if(a.alias){let t=a.alias.find((t=>i.hasOwnProperty(t)));if(t){return s([a],i[t],r,!1,"1-lexicon-alias"),!0}}if(!0===_t.test(l)){let t=l.replace(_t,"");if(i.hasOwnProperty(t)&&t.length>3&&Ct.has(i[t]))return s([a],i[t],r,!1,"1-lexicon-prefix"),!0}return null};var Vt={lexicon:function(t){const e=t.world;t.docs.forEach((t=>{for(let r=0;r<t.length;r+=1)if(0===t[r].tags.size){let o=null;o=o||Tt(t,r,e),o=o||Nt(t,r,e)}}))}};var qt=function(t){let e={},r={};return Object.keys(t).forEach((o=>{let n=t[o],s=(o=(o=o.toLowerCase().trim()).replace(/'s\b/,"")).split(/ /);s.length>1&&(r[s[0]]=!0),e[o]=e[o]||n})),delete e[""],delete e.null,delete e[" "],{lex:e,_multi:r}};var Ft={addWords:function(t){const e=this.world(),{methods:r,model:o}=e;if(t)if(Object.keys(t).forEach((e=>{"string"==typeof t[e]&&t[e].startsWith("#")&&(t[e]=t[e].replace(/^#/,""))})),r.two.expandLexicon){let{lex:n,_multi:s}=r.two.expandLexicon(t,e);Object.assign(o.one.lexicon,n),Object.assign(o.one._multiCache,s)}else if(r.one.expandLexicon){let{lex:n,_multi:s}=r.one.expandLexicon(t,e);Object.assign(o.one.lexicon,n),Object.assign(o.one._multiCache,s)}else Object.assign(o.one.lexicon,t)}};var $t={model:{one:{lexicon:{},_multiCache:{}}},methods:{one:{expandLexicon:qt}},compute:Vt,lib:Ft,hooks:["lexicon"]};var zt=function(t,e){let r=[{}],o=[null],n=[0],s=[],i=0;t.forEach((function(t){let n=0,s=function(t,e){const{methods:r,model:o}=e;let n=r.one.tokenize.splitTerms(t,o).map((t=>r.one.tokenize.splitWhitespace(t,o)));return n.map((t=>t.text.toLowerCase()))}(t,e);for(let t=0;t<s.length;t++){let e=s[t];r[n]&&r[n].hasOwnProperty(e)?n=r[n][e]:(i++,r[n][e]=i,r[i]={},n=i,o[i]=null)}o[n]=[s.length]}));for(let t in r[0])i=r[0][t],n[i]=0,s.push(i);for(;s.length;){let t=s.shift(),e=Object.keys(r[t]);for(let a=0;a<e.length;a+=1){let l=e[a],u=r[t][l];for(s.push(u),i=n[t];i>0&&!r[i].hasOwnProperty(l);)i=n[i];if(r.hasOwnProperty(i)){let t=r[i][l];n[u]=t,o[t]&&(o[u]=o[u]||[],o[u]=o[u].concat(o[t]))}else n[u]=0}}return{goNext:r,endAs:o,failTo:n}};const Dt=function(t,e,r){let o=0,n=[];for(let s=0;s<t.length;s++){let i=t[s][r.form]||t[s].normal;for(;o>0&&(void 0===e.goNext[o]||!e.goNext[o].hasOwnProperty(i));)o=e.failTo[o]||0;if(e.goNext[o].hasOwnProperty(i)&&(o=e.goNext[o][i],e.endAs[o])){let r=e.endAs[o];for(let e=0;e<r.length;e++){let o=r[e],i=t[s-o+1],[a,l]=i.index;n.push([a,l,l+o,i.id])}}}return n},Gt=function(t,e){for(let r=0;r<t.length;r+=1)if(!0===e.has(t[r]))return!1;return!0};var Lt=function(t,e,r){let o=[];r.form=r.form||"normal";let n=t.docs;if(!e.goNext||!e.goNext[0])return console.error("Compromise invalid lookup trie"),t.none();let s=Object.keys(e.goNext[0]);for(let i=0;i<n.length;i++){if(t._cache&&t._cache[i]&&!0===Gt(s,t._cache[i]))continue;let a=n[i],l=Dt(a,e,r);l.length>0&&(o=o.concat(l))}return t.update(o)};const Mt=t=>"[object Object]"===Object.prototype.toString.call(t);const It=(t,e)=>{for(let r=t.length-1;r>=0;r-=1)if(t[r]!==e)return t=t.slice(0,r+1);return t};var Ut=function(t){return t.goNext=t.goNext.map((t=>{if(0!==Object.keys(t).length)return t})),t.goNext=It(t.goNext,void 0),t.failTo=It(t.failTo,0),t.endAs=It(t.endAs,null),t};const Bt={buildTrie:function(t){const e=zt(t,this.world());return Ut(e)}};Bt.compile=Bt.buildTrie;var Wt={api:function(t){t.prototype.lookup=function(t,e={}){if(!t)return this.none();"string"==typeof t&&(t=[t]);let r=Mt(t)?t:zt(t,this.world),o=Lt(this,r,e);return o=o.settle(),o}},lib:Bt};const Rt=function(t,e){return e?(t.forEach((t=>{let r=t[0];e[r]&&(t[0]=e[r][0],t[1]+=e[r][1],t[2]+=e[r][1])})),t):t},Ht=function(t,e){let{ptrs:r,byGroup:o}=t;return r=Rt(r,e),Object.keys(o).forEach((t=>{o[t]=Rt(o[t],e)})),{ptrs:r,byGroup:o}},Qt=t=>"[object Object]"===Object.prototype.toString.call(t),Zt=t=>t&&Qt(t)&&!0===t.isView,Kt=t=>t&&Qt(t)&&!0===t.isNet,Yt=function(t,e,r){const o=r.methods.one;return"number"==typeof t&&(t=String(t)),"string"==typeof t&&(t=o.killUnicode(t,r),t=o.parseMatch(t,e,r)),t};var Jt={matchOne:function(t,e,r){const o=this.methods.one;if(Zt(t))return this.intersection(t).eq(0);if(Kt(t))return this.sweep(t,{tagger:!1,matchOne:!0}).view;let n={regs:t=Yt(t,r,this.world),group:e,justOne:!0},s=o.match(this.docs,n,this._cache),{ptrs:i,byGroup:a}=Ht(s,this.fullPointer),l=this.toView(i);return l._groups=a,l},match:function(t,e,r){const o=this.methods.one;if(Zt(t))return this.intersection(t);if(Kt(t))return this.sweep(t,{tagger:!1}).view.settle();let n={regs:t=Yt(t,r,this.world),group:e},s=o.match(this.docs,n,this._cache),{ptrs:i,byGroup:a}=Ht(s,this.fullPointer),l=this.toView(i);return l._groups=a,l},has:function(t,e,r){const o=this.methods.one;if(Zt(t)){return t.fullPointer.length>0}if(Kt(t))return this.sweep(t,{tagger:!1}).view.found;let n={regs:t=Yt(t,r,this.world),group:e,justOne:!0};return o.match(this.docs,n,this._cache).ptrs.length>0},if:function(t,e,r){const o=this.methods.one;if(Zt(t))return this.filter((e=>e.intersection(t).found));if(Kt(t)){let e=this.sweep(t,{tagger:!1}).view.settle();return this.if(e)}let n={regs:t=Yt(t,r,this.world),group:e,justOne:!0},s=this.fullPointer,i=this._cache||[];s=s.filter(((t,e)=>{let r=this.update([t]);return o.match(r.docs,n,i[e]).ptrs.length>0}));let a=this.update(s);return this._cache&&(a._cache=s.map((t=>i[t[0]]))),a},ifNo:function(t,e,r){const{methods:o}=this,n=o.one;if(Zt(t))return this.filter((e=>!e.intersection(t).found));if(Kt(t)){let e=this.sweep(t,{tagger:!1}).view.settle();return this.ifNo(e)}t=Yt(t,r,this.world);let s=this._cache||[],i=this.filter(((r,o)=>{let i={regs:t,group:e,justOne:!0};return 0===n.match(r.docs,i,s[o]).ptrs.length}));return this._cache&&(i._cache=i.ptrs.map((t=>s[t[0]]))),i}};var Xt={before:function(t,e,r){const{indexN:o}=this.methods.one.pointer;let n=[],s=o(this.fullPointer);Object.keys(s).forEach((t=>{let e=s[t].sort(((t,e)=>t[1]>e[1]?1:-1))[0];e[1]>0&&n.push([e[0],0,e[1]])}));let i=this.toView(n);return t?i.match(t,e,r):i},after:function(t,e,r){const{indexN:o}=this.methods.one.pointer;let n=[],s=o(this.fullPointer),i=this.document;Object.keys(s).forEach((t=>{let e=s[t].sort(((t,e)=>t[1]>e[1]?-1:1))[0],[r,,o]=e;o<i[r].length&&n.push([r,o,i[r].length])}));let a=this.toView(n);return t?a.match(t,e,r):a},growLeft:function(t,e,r){"string"==typeof t&&(t=this.world.methods.one.parseMatch(t,r,this.world)),t[t.length-1].end=!0;let o=this.fullPointer;return this.forEach(((r,n)=>{let s=r.before(t,e);if(s.found){let t=s.terms();o[n][1]-=t.length,o[n][3]=t.docs[0][0].id}})),this.update(o)},growRight:function(t,e,r){"string"==typeof t&&(t=this.world.methods.one.parseMatch(t,r,this.world)),t[0].start=!0;let o=this.fullPointer;return this.forEach(((r,n)=>{let s=r.after(t,e);if(s.found){let t=s.terms();o[n][2]+=t.length,o[n][4]=null}})),this.update(o)},grow:function(t,e,r){return this.growRight(t,e,r).growLeft(t,e,r)}};const te=function(t,e){return[t[0],t[1],e[2]]},ee=(t,e,r)=>{return"string"==typeof t||(o=t,"[object Array]"===Object.prototype.toString.call(o))?e.match(t,r):t||e.none();var o},re=function(t,e){let[r,o,n]=t;return e.document[r]&&e.document[r][o]&&(t[3]=t[3]||e.document[r][o].id,e.document[r][n-1]&&(t[4]=t[4]||e.document[r][n-1].id)),t},oe={splitOn:function(t,e){const{splitAll:r}=this.methods.one.pointer;let o=ee(t,this,e).fullPointer,n=r(this.fullPointer,o),s=[];return n.forEach((t=>{s.push(t.passthrough),s.push(t.before),s.push(t.match),s.push(t.after)})),s=s.filter((t=>t)),s=s.map((t=>re(t,this))),this.update(s)},splitBefore:function(t,e){const{splitAll:r}=this.methods.one.pointer;let o=ee(t,this,e).fullPointer,n=r(this.fullPointer,o),s=[];return n.forEach((t=>{s.push(t.passthrough),s.push(t.before),t.match&&t.after?s.push(te(t.match,t.after)):(s.push(t.match),s.push(t.after))})),s=s.filter((t=>t)),s=s.map((t=>re(t,this))),this.update(s)},splitAfter:function(t,e){const{splitAll:r}=this.methods.one.pointer;let o=ee(t,this,e).fullPointer,n=r(this.fullPointer,o),s=[];return n.forEach((t=>{s.push(t.passthrough),t.before&&t.match?s.push(te(t.before,t.match)):(s.push(t.before),s.push(t.match)),s.push(t.after)})),s=s.filter((t=>t)),s=s.map((t=>re(t,this))),this.update(s)}};oe.split=oe.splitAfter;var ne=oe;const se=Object.assign({},Jt,Xt,ne);se.lookBehind=se.before,se.lookBefore=se.before,se.lookAhead=se.after,se.lookAfter=se.after,se.notIf=se.ifNo;var ie=function(t){Object.assign(t.prototype,se)};const ae=/(?:^|\s)([![^]*(?:<[^<]*>)?\/.*?[^\\/]\/[?\]+*$~]*)(?:\s|$)/,le=/([!~[^]*(?:<[^<]*>)?\([^)]+[^\\)]\)[?\]+*$~]*)(?:\s|$)/,ue=/ /g,ce=t=>/^[![^]*(<[^<]*>)?\//.test(t)&&/\/[?\]+*$~]*$/.test(t),he=function(t){return t=(t=t.map((t=>t.trim()))).filter((t=>t))};var de=function(t){let e=t.split(ae),r=[];e.forEach((t=>{ce(t)?r.push(t):r=r.concat(t.split(le))})),r=he(r);let o=[];return r.forEach((t=>{(t=>/^[![^]*(<[^<]*>)?\(/.test(t)&&/\)[?\]+*$~]*$/.test(t))(t)||ce(t)?o.push(t):o=o.concat(t.split(ue))})),o=he(o),o};const fe=/\{([0-9]+)?(, *[0-9]*)?\}/,pe=/&&/,me=new RegExp(/^<\s*(\S+)\s*>/),ge=t=>t.charAt(0).toUpperCase()+t.substring(1),we=t=>t.charAt(t.length-1),ve=t=>t.charAt(0),be=t=>t.substring(1),ye=t=>t.substring(0,t.length-1),Pe=function(t){return t=be(t),t=ye(t)},je=function(t,e){let r={};for(let o=0;o<2;o+=1){if("$"===we(t)&&(r.end=!0,t=ye(t)),"^"===ve(t)&&(r.start=!0,t=be(t)),("["===ve(t)||"]"===we(t))&&(r.group=null,"["===ve(t)&&(r.groupStart=!0),"]"===we(t)&&(r.groupEnd=!0),t=(t=t.replace(/^\[/,"")).replace(/\]$/,""),"<"===ve(t))){const e=me.exec(t);e.length>=2&&(r.group=e[1],t=t.replace(e[0],""))}if("+"===we(t)&&(r.greedy=!0,t=ye(t)),"*"!==t&&"*"===we(t)&&"\\*"!==t&&(r.greedy=!0,t=ye(t)),"?"===we(t)&&(r.optional=!0,t=ye(t)),"!"===ve(t)&&(r.negative=!0,t=be(t)),"~"===ve(t)&&"~"===we(t)&&t.length>2&&(t=Pe(t),r.fuzzy=!0,r.min=e.fuzzy||.85,!1===/\(/.test(t)))return r.word=t,r;if("("===ve(t)&&")"===we(t)){pe.test(t)?(r.choices=t.split(pe),r.operator="and"):(r.choices=t.split("|"),r.operator="or"),r.choices[0]=be(r.choices[0]);let o=r.choices.length-1;r.choices[o]=ye(r.choices[o]),r.choices=r.choices.map((t=>t.trim())),r.choices=r.choices.filter((t=>t)),r.choices=r.choices.map((t=>t.split(/ /g).map((t=>je(t,e))))),t=""}if("/"===ve(t)&&"/"===we(t))return t=Pe(t),e.caseSensitive&&(r.use="text"),r.regex=new RegExp(t),r;if("{"===ve(t)&&"}"===we(t)){if(t=Pe(t),r.root=t,/\//.test(t)){let t=r.root.split(/\//);r.root=t[0],r.pos=t[1],"adj"===r.pos&&(r.pos="Adjective"),r.pos=r.pos.charAt(0).toUpperCase()+r.pos.substr(1).toLowerCase(),void 0!==t[2]&&(r.sense=t[2])}return r}if("<"===ve(t)&&">"===we(t))return t=Pe(t),r.chunk=ge(t),r.greedy=!0,r;if("%"===ve(t)&&"%"===we(t))return t=Pe(t),r.switch=t,r}return!0===fe.test(t)&&(t=t.replace(fe,((t,e,o)=>(void 0===o?(r.min=Number(e),r.max=Number(e)):(o=o.replace(/, */,""),void 0===e?(r.min=0,r.max=Number(o)):(r.min=Number(e),r.max=Number(o||999))),r.greedy=!0,r.min||(r.optional=!0),"")))),"#"===ve(t)?(r.tag=be(t),r.tag=ge(r.tag),r):"@"===ve(t)?(r.method=be(t),r):"."===t?(r.anything=!0,r):"*"===t?(r.anything=!0,r.greedy=!0,r.optional=!0,r):(t&&(t=(t=t.replace("\\*","*")).replace("\\.","."),e.caseSensitive?r.use="text":t=t.toLowerCase(),r.word=t),r)};var xe=je;const Ee=/[a-z0-9][-–—][a-z]/i;var Oe=function(t,e){let r=e.model.one.prefixes;for(let e=t.length-1;e>=0;e-=1){let o=t[e];if(o.word&&Ee.test(o.word)){let n=o.word.split(/[-–—]/g);if(r.hasOwnProperty(n[0]))continue;n=n.filter((t=>t)).reverse(),t.splice(e,1),n.forEach((r=>{let n=Object.assign({},o);n.word=r,t.splice(e,0,n)}))}}return t};const ke=function(t,e){let{all:r}=e.methods.two.transform.verb||{},o=t.root;return r?r(o,e.model):[]},Ae=function(t,e){let{all:r}=e.methods.two.transform.noun||{};return r?r(t.root,e.model):[t.root]},Se=function(t,e){let{all:r}=e.methods.two.transform.adjective||{};return r?r(t.root,e.model):[t.root]};var Te=function(t,e){return t=t.map((t=>{if(t.root)if(e.methods.two&&e.methods.two.transform){let r=[];t.pos?"Verb"===t.pos?r=r.concat(ke(t,e)):"Noun"===t.pos?r=r.concat(Ae(t,e)):"Adjective"===t.pos&&(r=r.concat(Se(t,e))):(r=r.concat(ke(t,e)),r=r.concat(Ae(t,e)),r=r.concat(Se(t,e))),r=r.filter((t=>t)),r.length>0&&(t.operator="or",t.fastOr=new Set(r))}else t.machine=t.root,delete t.id,delete t.root;return t}))};var _e=function(t){return t=function(t){let e=0,r=null;for(let o=0;o<t.length;o++){const n=t[o];!0===n.groupStart&&(r=n.group,null===r&&(r=String(e),e+=1)),null!==r&&(n.group=r),!0===n.groupEnd&&(r=null)}return t}(t),t=function(t){return t.map((t=>(t.fuzzy&&t.choices&&t.choices.forEach((e=>{1===e.length&&e[0].word&&(e[0].fuzzy=!0,e[0].min=t.min)})),t)))}(t=t.map((t=>{if(void 0!==t.choices){if("or"!==t.operator)return t;if(!0===t.fuzzy)return t;!0===t.choices.every((t=>{if(1!==t.length)return!1;let e=t[0];return!0!==e.fuzzy&&!e.start&&!e.end&&void 0!==e.word&&!0!==e.negative&&!0!==e.optional&&!0!==e.method}))&&(t.fastOr=new Set,t.choices.forEach((e=>{t.fastOr.add(e[0].word)})),delete t.choices)}return t}))),t};var Ce=function(t,e,r){if(null==t||""===t)return[];e=e||{},"number"==typeof t&&(t=String(t));let o=de(t);return o=o.map((t=>xe(t,e))),o=Oe(o,r),o=Te(o,r),o=_e(o),o};const Ne=function(t,e){for(let r of e)if(t.has(r))return!0;return!1};var Ve=function(t,e){for(let r=0;r<t.length;r+=1){let o=t[r];if(!0!==o.optional&&!0!==o.negative&&!0!==o.fuzzy){if(void 0!==o.word&&!1===e.has(o.word))return!0;if(void 0!==o.tag&&!1===e.has("#"+o.tag))return!0;if(o.fastOr&&!1===Ne(o.fastOr,e))return!1}}return!1};var qe=function(t,e,r=3){if(t===e)return 1;if(t.length<r||e.length<r)return 0;const o=function(t,e){let r=t.length,o=e.length;if(0===r)return o;if(0===o)return r;let n=(o>r?o:r)+1;if(Math.abs(r-o)>(n||100))return n||100;let s,i,a,l,u,c,h=[];for(let t=0;t<n;t++)h[t]=[t],h[t].length=n;for(let t=0;t<n;t++)h[0][t]=t;for(let n=1;n<=r;++n)for(i=t[n-1],s=1;s<=o;++s){if(n===s&&h[n][s]>4)return r;a=e[s-1],l=i===a?0:1,u=h[n-1][s]+1,(c=h[n][s-1]+1)<u&&(u=c),(c=h[n-1][s-1]+l)<u&&(u=c);let o=n>1&&s>1&&i===e[s-2]&&t[n-2]===a&&(c=h[n-2][s-2]+l)<u;h[n][s]=o?c:u}return h[r][o]}(t,e);let n=Math.max(t.length,e.length);return 1-(0===n?0:o/n)};const Fe=/([\u0022\uFF02\u0027\u201C\u2018\u201F\u201B\u201E\u2E42\u201A\u00AB\u2039\u2035\u2036\u2037\u301D\u0060\u301F])/,$e=/([\u0022\uFF02\u0027\u201D\u2019\u00BB\u203A\u2032\u2033\u2034\u301E\u00B4])/,ze=/^[-–—]$/,De=/ [-–—]{1,3} /,Ge=(t,e)=>-1!==t.post.indexOf(e),Le=(t,e)=>-1!==t.pre.indexOf(e),Me={hasQuote:t=>Fe.test(t.pre)||$e.test(t.post),hasComma:t=>Ge(t,","),hasPeriod:t=>!0===Ge(t,".")&&!1===Ge(t,"..."),hasExclamation:t=>Ge(t,"!"),hasQuestionMark:t=>Ge(t,"?")||Ge(t,"¿"),hasEllipses:t=>Ge(t,"..")||Ge(t,"…")||Le(t,"..")||Le(t,"…"),hasSemicolon:t=>Ge(t,";"),hasColon:t=>Ge(t,":"),hasSlash:t=>/\//.test(t.text),hasHyphen:t=>ze.test(t.post)||ze.test(t.pre),hasDash:t=>De.test(t.post)||De.test(t.pre),hasContraction:t=>Boolean(t.implicit),isAcronym:t=>t.tags.has("Acronym"),isKnown:t=>t.tags.size>0,isTitleCase:t=>/^\p{Lu}[a-z'\u00C0-\u00FF]/u.test(t.text),isUpperCase:t=>/^\p{Lu}+$/u.test(t.text)};Me.hasQuotation=Me.hasQuote;var Ie=Me;let Ue=function(){};Ue=function(t,e,r,o){let n=function(t,e,r,o){if(!0===e.anything)return!0;if(!0===e.start&&0!==r)return!1;if(!0===e.end&&r!==o-1)return!1;if(void 0!==e.id&&e.id===t.id)return!0;if(void 0!==e.word){if(e.use)return e.word===t[e.use];if(null!==t.machine&&t.machine===e.word)return!0;if(void 0!==t.alias&&t.alias.hasOwnProperty(e.word))return!0;if(!0===e.fuzzy){if(e.word===t.root)return!0;if(qe(e.word,t.normal)>=e.min)return!0}return!(!t.alias||!t.alias.some((t=>t===e.word)))||e.word===t.text||e.word===t.normal}if(void 0!==e.tag)return!0===t.tags.has(e.tag);if(void 0!==e.method)return"function"==typeof Ie[e.method]&&!0===Ie[e.method](t);if(void 0!==e.pre)return t.pre&&t.pre.includes(e.pre);if(void 0!==e.post)return t.post&&t.post.includes(e.post);if(void 0!==e.regex){let r=t.normal;return e.use&&(r=t[e.use]),e.regex.test(r)}if(void 0!==e.chunk)return t.chunk===e.chunk;if(void 0!==e.switch)return t.switch===e.switch;if(void 0!==e.machine)return t.normal===e.machine||t.machine===e.machine||t.root===e.machine;if(void 0!==e.sense)return t.sense===e.sense;if(void 0!==e.fastOr){if(e.pos&&!t.tags.has(e.pos))return null;let r=t.root||t.implicit||t.machine||t.normal;return e.fastOr.has(r)||e.fastOr.has(t.text)}return void 0!==e.choices&&("and"===e.operator?e.choices.every((e=>Ue(t,e,r,o))):e.choices.some((e=>Ue(t,e,r,o))))}(t,e,r,o);return!0===e.negative?!n:n};var Be=Ue;const We=function(t,e){if(!0===t.end&&!0===t.greedy&&e.start_i+e.t<e.phrase_length-1){let r=Object.assign({},t,{end:!1});if(!0===Be(e.terms[e.t],r,e.start_i+e.t,e.phrase_length))return!0}return!1},Re=function(t,e){return t.groups[t.inGroup]||(t.groups[t.inGroup]={start:e,length:0}),t.groups[t.inGroup]};var He=function(t){let{regs:e}=t,r=e[t.r],o=function(t,e){let r=t.t;if(!e)return t.terms.length;for(;r<t.terms.length;r+=1)if(!0===Be(t.terms[r],e,t.start_i+r,t.phrase_length))return r;return null}(t,e[t.r+1]);if(null===o||0===o)return null;if(void 0!==r.min&&o-t.t<r.min)return null;if(void 0!==r.max&&o-t.t>r.max)return t.t=t.t+r.max,!0;if(!0===t.hasGroup){Re(t,t.t).length=o-t.t}return t.t=o,!0};const Qe=function(t,e=0){let r=t.regs[t.r],o=!1;for(let s=0;s<r.choices.length;s+=1){let i=r.choices[s];if(n=i,"[object Array]"!==Object.prototype.toString.call(n))return!1;if(o=i.every(((r,o)=>{let n=0,s=t.t+o+e+n;if(void 0===t.terms[s])return!1;let i=Be(t.terms[s],r,s+t.start_i,t.phrase_length);if(!0===i&&!0===r.greedy)for(let e=1;e<t.terms.length;e+=1){let o=t.terms[s+e];if(o){if(!0!==Be(o,r,t.start_i+e,t.phrase_length))break;n+=1}}return e+=n,i})),o){e+=i.length;break}}var n;return o&&!0===r.greedy?Qe(t,e):e};var Ze=function(t){const{regs:e}=t;let r=e[t.r],o=Qe(t);if(o){if(!0===r.negative)return null;if(!0===t.hasGroup){Re(t,t.t).length+=o}if(!0===r.end){let e=t.phrase_length;if(t.t+t.start_i+o!==e)return null}return t.t+=o,!0}return!!r.optional||null};var Ke=function(t){const{regs:e}=t;let r=e[t.r],o=function(t){let e=0;return!0===t.regs[t.r].choices.every((r=>{let o=r.every(((e,r)=>{let o=t.t+r;return void 0!==t.terms[o]&&Be(t.terms[o],e,o,t.phrase_length)}));return!0===o&&r.length>e&&(e=r.length),o}))&&e}(t);if(o){if(!0===r.negative)return null;if(!0===t.hasGroup){Re(t,t.t).length+=o}if(!0===r.end){let e=t.phrase_length-1;if(t.t+t.start_i!==e)return null}return t.t+=o,!0}return!!r.optional||null};var Ye=function(t,e,r){let o=0;for(let n=t.t;n<t.terms.length;n+=1){let s=Be(t.terms[n],e,t.start_i+t.t,t.phrase_length);if(s)break;if(r&&(s=Be(t.terms[n],r,t.start_i+t.t,t.phrase_length),s))break;if(o+=1,void 0!==e.max&&o===e.max)break}return 0!==o&&(!(e.min&&e.min>o)&&(t.t+=o,!0))};var Je=function(t){const{regs:e}=t;let r=e[t.r],o=Object.assign({},r);if(o.negative=!1,Be(t.terms[t.t],o,t.start_i+t.t,t.phrase_length))return!1;if(r.optional){let r=e[t.r+1];if(r){if(Be(t.terms[t.t],r,t.start_i+t.t,t.phrase_length))t.r+=1;else if(r.optional&&e[t.r+2]){Be(t.terms[t.t],e[t.r+2],t.start_i+t.t,t.phrase_length)&&(t.r+=2)}}}return r.greedy?Ye(t,o,e[t.r+1]):(t.t+=1,!0)};var Xe=function(t){const{regs:e}=t;let r=e[t.r],o=t.terms[t.t],n=Be(o,e[t.r+1],t.start_i+t.t,t.phrase_length);if(r.negative||n){let r=t.terms[t.t+1];r&&Be(r,e[t.r+1],t.start_i+t.t,t.phrase_length)||(t.r+=1)}};var tr=function(t){const{regs:e,phrase_length:r}=t;let o=e[t.r];return t.t=function(t,e){let r=Object.assign({},t.regs[t.r],{start:!1,end:!1}),o=t.t;for(;t.t<t.terms.length;t.t+=1){if(e&&Be(t.terms[t.t],e,t.start_i+t.t,t.phrase_length))return t.t;let n=t.t-o+1;if(void 0!==r.max&&n===r.max)return t.t;if(!1===Be(t.terms[t.t],r,t.start_i+t.t,t.phrase_length))return void 0!==r.min&&n<r.min?null:t.t}return t.t}(t,e[t.r+1]),null===t.t||o.min&&o.min>t.t?null:!0!==o.end||t.start_i+t.t===r||null};var er=function(t){let e=t.terms[t.t],r=t.regs[t.r];if(e.implicit&&t.terms[t.t+1]){if(!t.terms[t.t+1].implicit)return;r.word===e.normal&&(t.t+=1),"hasContraction"===r.method&&(t.t+=1)}};var rr=function(t){const{regs:e}=t;let r=e[t.r],o=t.terms[t.t],n=t.t;if(r.optional&&e[t.r+1]&&r.negative)return!0;if(r.optional&&e[t.r+1]&&Xe(t),o.implicit&&t.terms[t.t+1]&&er(t),t.t+=1,!0===r.end&&t.t!==t.terms.length&&!0!==r.greedy)return null;if(!0===r.greedy){if(!tr(t))return null}return!0===t.hasGroup&&function(t,e){let r=t.regs[t.r];const o=Re(t,e);t.t>1&&r.greedy?o.length+=t.t-e:o.length++}(t,n),!0};var or=function(t,e,r,o){if(0===t.length||0===e.length)return null;let n={t:0,terms:t,r:0,regs:e,groups:{},start_i:r,phrase_length:o,inGroup:null};for(;n.r<e.length;n.r+=1){let t=e[n.r];if(n.hasGroup=Boolean(t.group),!0===n.hasGroup?n.inGroup=t.group:n.inGroup=null,!n.terms[n.t]){if(!1===e.slice(n.r).some((t=>!t.optional)))break;return null}if(!0!==t.anything||!0!==t.greedy)if(void 0===t.choices||"or"!==t.operator)if(void 0===t.choices||"and"!==t.operator)if(!0!==t.anything)if(!0!==We(t,n))if(t.negative){if(!Je(n))return null}else if(!0!==Be(n.terms[n.t],t,n.start_i+n.t,n.phrase_length)){if(!0!==t.optional)return null}else{if(!rr(n))return null}else{if(!rr(n))return null}else{if(t.negative&&t.anything)return null;if(!rr(n))return null}else{if(!Ke(n))return null}else{if(!Ze(n))return null}else{if(!He(n))return null}}let s=[null,r,n.t+r];if(s[1]===s[2])return null;let i={};return Object.keys(n.groups).forEach((t=>{let e=n.groups[t],o=r+e.start;i[t]=[null,o,o+e.length]})),{pointer:s,groups:i}};var nr=function(t,e){let r=[],o={};return 0===t.length||("number"==typeof e&&(e=String(e)),e?t.forEach((t=>{t.groups[e]&&r.push(t.groups[e])})):t.forEach((t=>{r.push(t.pointer),Object.keys(t.groups).forEach((e=>{o[e]=o[e]||[],o[e].push(t.groups[e])}))}))),{ptrs:r,byGroup:o}};var sr=function(t,e,r){return t=t.filter((t=>{let[o,n,s]=t.pointer,i=r[o].slice(n,s);for(let t=0;t<i.length;t+=1){let r=i.slice(t);if(null!==or(r,e,t,i.length))return!1}return!0})),t};const ir=function(t,e){return t.pointer[0]=e,Object.keys(t.groups).forEach((r=>{t.groups[r][0]=e})),t},ar=function(t,e,r){let o=or(t,e,0,t.length);return o?(o=ir(o,r),o):null};var lr=function(t,e,r){r=r||[];let{regs:o,group:n,justOne:s}=e,i=[];if(!o||0===o.length)return{ptrs:[],byGroup:{}};const a=o.filter((t=>!0!==t.optional&&!0!==t.negative)).length;t:for(let e=0;e<t.length;e+=1){let n=t[e];if(!r[e]||!Ve(o,r[e]))if(!0!==o[0].start)for(let t=0;t<n.length;t+=1){let r=n.slice(t);if(r.length<a)break;let l=or(r,o,t,n.length);if(l){if(l=ir(l,e),i.push(l),!0===s)break t;let r=l.pointer[2];Math.abs(r-1)>t&&(t=Math.abs(r-1))}}else{let t=ar(n,o,e);t&&i.push(t)}}return!0===o[o.length-1].end&&(i=i.filter((e=>{let r=e.pointer[0];return t[r].length===e.pointer[2]}))),e.notIf&&(i=sr(i,e.notIf,t)),i=nr(i,n),i.ptrs.forEach((e=>{let[r,o,n]=e;e[3]=t[r][o].id,e[4]=t[r][n-1].id})),i};var ur={api:ie,methods:{one:{termMethods:Ie,parseMatch:Ce,match:lr}},lib:{parseMatch:function(t,e){const r=this.world();let o=r.methods.one.killUnicode;return o&&(t=o(t,r)),r.methods.one.parseMatch(t,e,r)}}};const cr=/^\../,hr=/^#./,dr=function(t,e){let r={},o={};return Object.keys(e).forEach((n=>{let s=e[n],i=function(t){let e="",r="</span>";return t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),cr.test(t)?e=`<span class="${t.replace(/^\./,"")}"`:hr.test(t)?e=`<span id="${t.replace(/^#/,"")}"`:(e=`<${t}`,r=`</${t}>`),e+=">",{start:e,end:r}}(n);"string"==typeof s&&(s=t.match(s)),s.docs.forEach((t=>{if(t.every((t=>t.implicit)))return;let e=t[0].id;r[e]=r[e]||[],r[e].push(i.start);let n=t[t.length-1].id;o[n]=o[n]||[],o[n].push(i.end)}))})),{starts:r,ends:o}};var fr={html:function(t){let{starts:e,ends:r}=dr(this,t),o="";return this.docs.forEach((t=>{for(let n=0;n<t.length;n+=1){let s=t[n];e.hasOwnProperty(s.id)&&(o+=e[s.id].join("")),o+=s.pre||""+s.text||"",r.hasOwnProperty(s.id)&&(o+=r[s.id].join("")),o+=s.post||""}})),o}};const pr=/[,:;)\]*.?~!\u0022\uFF02\u201D\u2019\u00BB\u203A\u2032\u2033\u2034\u301E\u00B4—-]+$/,mr=/^[(['"*~\uFF02\u201C\u2018\u201F\u201B\u201E\u2E42\u201A\u00AB\u2039\u2035\u2036\u2037\u301D\u0060\u301F]+/,gr=/[,:;)('"\u201D\]]/,wr=/^[-–—]$/,vr=/ /,br=function(t,e,r=!0){let o="";return t.forEach((t=>{let r=t.pre||"",n=t.post||"";"some"===e.punctuation&&(r=r.replace(mr,""),wr.test(n)&&(n=" "),n=n.replace(gr,""),n=n.replace(/\?!+/,"?"),n=n.replace(/!+/,"!"),n=n.replace(/\?+/,"?"),n=n.replace(/\.{2,}/,""),t.tags.has("Abbreviation")&&(n=n.replace(/\./,""))),"some"===e.whitespace&&(r=r.replace(/\s/,""),n=n.replace(/\s+/," ")),e.keepPunct||(r=r.replace(mr,""),n="-"===n?" ":n.replace(pr,""));let s=t[e.form||"text"]||t.normal||"";"implicit"===e.form&&(s=t.implicit||t.text),"root"===e.form&&t.implicit&&(s=t.root||t.implicit||t.normal),"machine"!==e.form&&"implicit"!==e.form&&"root"!==e.form||!t.implicit||n&&vr.test(n)||(n+=" "),o+=r+s+n})),!1===r&&(o=o.trim()),!0===e.lowerCase&&(o=o.toLowerCase()),o},yr={text:{form:"text"},normal:{whitespace:"some",punctuation:"some",case:"some",unicode:"some",form:"normal"},machine:{keepSpace:!1,whitespace:"some",punctuation:"some",case:"none",unicode:"some",form:"machine"},root:{keepSpace:!1,whitespace:"some",punctuation:"some",case:"some",unicode:"some",form:"root"},implicit:{form:"implicit"}};yr.clean=yr.normal,yr.reduced=yr.root;var Pr=yr;let jr=[],xr=0;for(;xr<64;)jr[xr]=0|4294967296*Math.sin(++xr%Math.PI);function Er(t){let e,r,o,n=[e=1732584193,r=4023233417,~e,~r],s=[],i=decodeURI(encodeURI(t))+"",a=i.length;for(t=--a/4+2|15,s[--t]=8*a;~a;)s[a>>2]|=i.charCodeAt(a)<<8*a--;for(xr=i=0;xr<t;xr+=16){for(a=n;i<64;a=[o=a[3],e+((o=a[0]+[e&r|~e&o,o&e|~o&r,e^r^o,r^(e|~o)][a=i>>4]+jr[i]+~~s[xr|15&[i,5*i+1,3*i+5,7*i][a]])<<(a=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*a+i++%4])|o>>>-a),e,r])e=0|a[1],r=a[2];for(i=4;i;)n[--i]+=a[i]}for(t="";i<32;)t+=(n[i>>3]>>4*(1^i++)&15).toString(16);return t}const Or={text:!0,terms:!0};let kr={case:"none",unicode:"some",form:"machine",punctuation:"some"};const Ar=function(t,e){return Object.assign({},t,e)},Sr={text:t=>br(t,{keepPunct:!0},!1),normal:t=>br(t,Ar(Pr.normal,{keepPunct:!0}),!1),implicit:t=>br(t,Ar(Pr.implicit,{keepPunct:!0}),!1),machine:t=>br(t,kr,!1),root:t=>br(t,Ar(kr,{form:"root"}),!1),hash:t=>Er(br(t,{keepPunct:!0},!1)),offset:t=>{let e=Sr.text(t).length;return{index:t[0].offset.index,start:t[0].offset.start,length:e}},terms:t=>t.map((t=>{let e=Object.assign({},t);return e.tags=Array.from(t.tags),e})),confidence:(t,e,r)=>e.eq(r).confidence(),syllables:(t,e,r)=>e.eq(r).syllables(),sentence:(t,e,r)=>e.eq(r).fullSentence().text(),dirty:t=>t.some((t=>!0===t.dirty))};Sr.sentences=Sr.sentence,Sr.clean=Sr.normal,Sr.reduced=Sr.root;const Tr={json:function(t){let e=(r=this,"string"==typeof(o=(o=t)||{})&&(o={}),(o=Object.assign({},Or,o)).offset&&r.compute("offset"),r.docs.map(((t,e)=>{let n={};return Object.keys(o).forEach((s=>{o[s]&&Sr[s]&&(n[s]=Sr[s](t,r,e))})),n})));var r,o;return"number"==typeof t?e[t]:e}};Tr.data=Tr.json;var _r=Tr;var Cr=function(t){console.log("%c -=-=- ","background-color:#6699cc;"),t.forEach((t=>{console.groupCollapsed(t.text());let e=t.docs[0].map((t=>{let e=t.text||"-";return t.implicit&&(e="["+t.implicit+"]"),{text:e,tags:"["+Array.from(t.tags).join(", ")+"]"}}));console.table(e,["text","tags"]),console.groupEnd()}))};const Nr="[0m";var Vr={green:t=>"[32m"+t+Nr,red:t=>"[31m"+t+Nr,blue:t=>"[34m"+t+Nr,magenta:t=>"[35m"+t+Nr,cyan:t=>"[36m"+t+Nr,yellow:t=>"[33m"+t+Nr,black:t=>"[30m"+t+Nr,dim:t=>"[2m"+t+Nr,i:t=>"[3m"+t+Nr};var qr=function(t){let{docs:e,model:r}=t;0===e.length&&console.log(Vr.blue("\n     ──────")),e.forEach((e=>{console.log(Vr.blue("\n  ┌─────────")),e.forEach((e=>{let o=[...e.tags||[]],n=e.text||"-";e.sense&&(n=`{${e.normal}/${e.sense}}`),e.implicit&&(n="["+e.implicit+"]"),n=Vr.yellow(n);let s="'"+n+"'";if(e.reference){let r=t.update([e.reference]).text("normal");s+=` - ${Vr.dim(Vr.i("["+r+"]"))}`}s=s.padEnd(18);let i=Vr.blue("  │ ")+Vr.i(s)+"  - "+function(t,e){return e.one.tagSet&&(t=t.map((t=>{if(!e.one.tagSet.hasOwnProperty(t))return t;const r=e.one.tagSet[t].color||"blue";return Vr[r](t)}))),t.join(", ")}(o,r);console.log(i)}))}))};var Fr=function(t){let{docs:e}=t;console.log(""),e.forEach((t=>{let e=[];t.forEach((t=>{"Noun"===t.chunk?e.push(Vr.blue(t.implicit||t.normal)):"Verb"===t.chunk?e.push(Vr.green(t.implicit||t.normal)):"Adjective"===t.chunk?e.push(Vr.yellow(t.implicit||t.normal)):"Pivot"===t.chunk?e.push(Vr.red(t.implicit||t.normal)):e.push(t.implicit||t.normal)})),console.log(e.join(" "),"\n")}))};var $r=function(t){if(!t.found)return;let e={};t.fullPointer.forEach((t=>{e[t[0]]=e[t[0]]||[],e[t[0]].push(t)})),Object.keys(e).forEach((r=>{let o=t.update([[Number(r)]]).text();t.update(e[r]).json({offset:!0}).forEach(((t,e)=>{o=function(t,e,r){let o=((t,e,r)=>{let o=9*r,n=e.start+o,s=n+e.length;return[t.substring(0,n),t.substring(n,s),t.substring(s,t.length)]})(t,e,r);return`${o[0]}${Vr.blue(o[1])}${o[2]}`}(o,t.offset,e)})),console.log(o)}))};var zr=function(t={}){let e=this;if("string"==typeof t){let e={};e[t]=!0,t=e}return"undefined"!=typeof window&&window.document?(Cr(e),e):(!1!==t.tags&&(qr(e),console.log("\n")),!0===t.chunks&&(Fr(e),console.log("\n")),!0===t.highlight&&($r(e),console.log("\n")),e)};const Dr=function(t){let e=t.pre||"",r=t.post||"";return e+t.text+r};var Gr=function(t,e){let r=function(t,e){let r={};return Object.keys(e).forEach((o=>{t.match(o).fullPointer.forEach((t=>{r[t[3]]={fn:e[o],end:t[2]}}))})),r}(t,e),o="";return t.docs.forEach(((e,n)=>{for(let s=0;s<e.length;s+=1){let i=e[s];if(r.hasOwnProperty(i.id)){let{fn:a,end:l}=r[i.id],u=t.update([[n,s,l]]);o+=e[s].pre||"",o+=a(u),s=l-1,o+=e[s].post||""}else o+=Dr(i)}})),o};const Lr={debug:zr,out:function(t){if(e=t,"[object Object]"===Object.prototype.toString.call(e))return Gr(this,t);var e;if("text"===t)return this.text();if("normal"===t)return this.text("normal");if("root"===t)return this.text("root");if("machine"===t||"reduced"===t)return this.text("machine");if("hash"===t||"md5"===t)return Er(this.text());if("json"===t)return this.json();if("offset"===t||"offsets"===t)return this.compute("offset"),this.json({offset:!0});if("array"===t){let t=this.docs.map((t=>t.reduce(((t,e)=>t+e.pre+e.text+e.post),"").trim()));return t.filter((t=>t))}if("freq"===t||"frequency"===t||"topk"===t)return function(t){let e={};t.forEach((t=>{e[t]=e[t]||0,e[t]+=1}));let r=Object.keys(e).map((t=>({normal:t,count:e[t]})));return r.sort(((t,e)=>t.count>e.count?-1:0))}(this.json({normal:!0}).map((t=>t.normal)));if("terms"===t){let t=[];return this.docs.forEach((e=>{let r=e.terms.map((t=>t.text));r=r.filter((t=>t)),t=t.concat(r)})),t}return"tags"===t?this.docs.map((t=>t.reduce(((t,e)=>(t[e.implicit||e.normal]=Array.from(e.tags),t)),{}))):"debug"===t?this.debug():this.text()},wrap:function(t){return Gr(this,t)}};var Mr=Lr;var Ir={text:function(t){let e={};var r;if(t&&"string"==typeof t&&Pr.hasOwnProperty(t)?e=Object.assign({},Pr[t]):t&&(r=t,"[object Object]"===Object.prototype.toString.call(r))&&(e=Object.assign({},t)),void 0===e.keepSpace&&this.pointer&&(e.keepSpace=!1),void 0===e.keepPunct&&this.pointer){let t=this.pointer[0];t&&t[1]?e.keepPunct=!1:e.keepPunct=!0}return void 0===e.keepPunct&&(e.keepPunct=!0),void 0===e.keepSpace&&(e.keepSpace=!0),function(t,e){let r="";if(!t||!t[0]||!t[0][0])return r;for(let o=0;o<t.length;o+=1)r+=br(t[o],e,!0);if(e.keepSpace||(r=r.trim()),!1===e.keepPunct){t[0][0].tags.has("Emoticon")||(r=r.replace(mr,""));let e=t[t.length-1];e[e.length-1].tags.has("Emoticon")||(r=r.replace(pr,""))}return!0===e.cleanWhitespace&&(r=r.trim()),r}(this.docs,e)}};const Ur=Object.assign({},Mr,Ir,_r,fr);var Br=function(t){Object.assign(t.prototype,Ur)},Wr={api:Br,methods:{one:{hash:Er}}};const Rr=function(t,e){if(t[0]!==e[0])return!1;let[,r,o]=t,[,n,s]=e;return r<=n&&o>n||n<=r&&s>r},Hr=function(t){let e={};return t.forEach((t=>{e[t[0]]=e[t[0]]||[],e[t[0]].push(t)})),e};var Qr=function(t,e){let r=Hr(e),o=[];return t.forEach((t=>{let[e]=t,n=r[e]||[];if(n=n.filter((e=>function(t,e){return t[1]<=e[1]&&e[2]<=t[2]}(t,e))),0===n.length)return void o.push({passthrough:t});n=n.sort(((t,e)=>t[1]-e[1]));let s=t;n.forEach(((t,e)=>{let r=function(t,e){let[r,o]=t,n=e[1],s=e[2],i={};if(o<n){let e=n<t[2]?n:t[2];i.before=[r,o,e]}return i.match=e,t[2]>s&&(i.after=[r,s,t[2]]),i}(s,t);n[e+1]?(o.push({before:r.before,match:r.match}),r.after&&(s=r.after)):o.push(r)}))})),o};var Zr=function(t,e){let r=[];return t.forEach(((o,n)=>{if(!o)return;let[s,i,a,l,u]=o,c=e[s]||[];if(void 0===i&&(i=0),void 0===a&&(a=c.length),!l||c[i]&&c[i].id===l)c=c.slice(i,a);else{let r=function(t,e,r){for(let o=0;o<20;o+=1){if(e[r-o]){let n=e[r-o].findIndex((e=>e.id===t));if(-1!==n)return[r-o,n]}if(e[r+o]){let n=e[r+o].findIndex((e=>e.id===t));if(-1!==n)return[r+o,n]}}return null}(l,e,s);if(null!==r){let o=a-i;c=e[r[0]].slice(r[1],r[1]+o);let s=c[0]?c[0].id:null;t[n]=[r[0],r[1],r[1]+o,s]}}0!==c.length&&i!==a&&(u&&c[c.length-1].id!==u&&(c=function(t,e){let[r,o,,,n]=t,s=e[r],i=s.findIndex((t=>t.id===n));return-1===i?(t[2]=e[r].length,t[4]=s.length?s[s.length-1].id:null):t[2]=i,e[r].slice(o,t[2]+1)}(o,e)),r.push(c))})),r=r.filter((t=>t.length>0)),r};var Kr={one:{termList:function(t){let e=[];for(let r=0;r<t.length;r+=1)for(let o=0;o<t[r].length;o+=1)e.push(t[r][o]);return e},getDoc:Zr,pointer:{indexN:Hr,splitAll:Qr}}};var Yr=function(t,e){let r=t.concat(e),o=Hr(r),n=[];return r.forEach((t=>{let[e]=t;if(1===o[e].length)return void n.push(t);let r=o[e].filter((e=>Rr(t,e)));r.push(t);let s=function(t){let e=t[0][1],r=t[0][2];return t.forEach((t=>{t[1]<e&&(e=t[1]),t[2]>r&&(r=t[2])})),[t[0][0],e,r]}(r);n.push(s)})),n=function(t){let e={};for(let r=0;r<t.length;r+=1)e[t[r].join(",")]=t[r];return Object.values(e)}(n),n};var Jr=function(t,e){let r=[];return Qr(t,e).forEach((t=>{t.passthrough&&r.push(t.passthrough),t.before&&r.push(t.before),t.after&&r.push(t.after)})),r};var Xr=function(t,e){let r=Hr(e),o=[];return t.forEach((t=>{let e=r[t[0]]||[];e=e.filter((e=>Rr(t,e))),0!==e.length&&e.forEach((e=>{let r=function(t,e){let r=t[1]<e[1]?e[1]:t[1],o=t[2]>e[2]?e[2]:t[2];return r<o?[t[0],r,o]:null}(t,e);r&&o.push(r)}))})),o};const to=(t,e)=>{return"string"==typeof t||(r=t,"[object Array]"===Object.prototype.toString.call(r))?e.match(t):t||e.none();var r},eo=function(t,e){return t.map((t=>{let[r,o]=t;return e[r]&&e[r][o]&&(t[3]=e[r][o].id),t}))},ro={union:function(t){t=to(t,this);let e=Yr(this.fullPointer,t.fullPointer);return e=eo(e,this.document),this.toView(e)}};ro.and=ro.union,ro.intersection=function(t){t=to(t,this);let e=Xr(this.fullPointer,t.fullPointer);return e=eo(e,this.document),this.toView(e)},ro.not=function(t){t=to(t,this);let e=Jr(this.fullPointer,t.fullPointer);return e=eo(e,this.document),this.toView(e)},ro.difference=ro.not,ro.complement=function(){let t=this.all(),e=Jr(t.fullPointer,this.fullPointer);return e=eo(e,this.document),this.toView(e)},ro.settle=function(){let t=this.fullPointer;return t.forEach((e=>{t=Yr(t,[e])})),t=eo(t,this.document),this.update(t)};var oo=function(t){Object.assign(t.prototype,ro)},no={methods:Kr,api:oo};var so=function(t){t.prototype.sweep=function(t,e={}){const{world:r,docs:o}=this,{methods:n}=r;let s=n.one.bulkMatch(o,t,this.methods,e);!1!==e.tagger&&n.one.bulkTagger(s,o,this.world),s=s.map((t=>{let e=t.pointer,r=o[e[0]][e[1]],n=e[2]-e[1];return r.index&&(t.pointer=[r.index[0],r.index[1],e[1]+n]),t}));let i=s.map((t=>t.pointer));return s=s.map((t=>(t.view=this.update([t.pointer]),delete t.regs,delete t.needs,delete t.pointer,delete t._expanded,t))),{view:this.update(i),found:s}}};const io=function(t){return!0===t.optional||!0===t.negative?null:t.tag?"#"+t.tag:t.word?t.word:t.switch?`%${t.switch}%`:null};var ao=function(t,e){const r=e.methods.one.parseMatch;return t.forEach((t=>{t.regs=r(t.match,{},e),"string"==typeof t.ifNo&&(t.ifNo=[t.ifNo]),t.notIf&&(t.notIf=r(t.notIf,{},e)),t.needs=function(t){let e=[];return t.forEach((t=>{e.push(io(t)),"and"===t.operator&&t.choices&&t.choices.forEach((t=>{t.forEach((t=>{e.push(io(t))}))}))})),e.filter((t=>t))}(t.regs);let{wants:o,count:n}=function(t){let e=[],r=0;return t.forEach((t=>{"or"!==t.operator||t.optional||t.negative||(t.fastOr&&Array.from(t.fastOr).forEach((t=>{e.push(t)})),t.choices&&t.choices.forEach((t=>{t.forEach((t=>{let r=io(t);r&&e.push(r)}))})),r+=1)})),{wants:e,count:r}}(t.regs);t.wants=o,t.minWant=n,t.minWords=t.regs.filter((t=>!t.optional)).length})),t};var lo=function(t,e){t=ao(t,e);let r={};t.forEach((t=>{t.needs.forEach((e=>{r[e]=r[e]||[],r[e].push(t)})),t.wants.forEach((e=>{r[e]=r[e]||[],r[e].push(t)}))})),Object.keys(r).forEach((t=>{let e={};r[t]=r[t].filter((t=>!e[t.match]&&(e[t.match]=!0,!0)))}));let o=t.filter((t=>0===t.needs.length&&0===t.wants.length));return{hooks:r,always:o}};var uo=function(t,e){return t.map(((r,o)=>{let n=[];Object.keys(e).forEach((r=>{t[o].has(r)&&(n=n.concat(e[r]))}));let s={};return n=n.filter((t=>!s[t.match]&&(s[t.match]=!0,!0))),n}))};var co=function(t,e){return t.map(((t,r)=>{let o=e[r];return t=(t=(t=t.filter((t=>t.needs.every((t=>o.has(t)))))).filter((t=>void 0===t.ifNo||!0!==t.ifNo.some((t=>o.has(t)))))).filter((t=>{if(0===t.wants.length)return!0;return t.wants.filter((t=>o.has(t))).length>=t.minWant}))}))};var ho=function(t,e,r,o,n){let s=[];for(let r=0;r<t.length;r+=1)for(let i=0;i<t[r].length;i+=1){let a=t[r][i],l=o.one.match([e[r]],a);if(l.ptrs.length>0&&(l.ptrs.forEach((t=>{t[0]=r;let e=Object.assign({},a,{pointer:t});void 0!==a.unTag&&(e.unTag=a.unTag),s.push(e)})),!0===n.matchOne))return[s[0]]}return s};var fo=function(t,e,r,o={}){let n=r.one.cacheDoc(t),s=uo(n,e.hooks);return s=co(s,n),e.always.length>0&&(s=s.map((t=>t.concat(e.always)))),s=function(t,e){return t.map(((t,r)=>{let o=e[r].length;return t=t.filter((t=>o>=t.minWords)),t}))}(s,t),ho(s,t,n,r,o)};var po=function(t,e,r){let o=r.one.tagSet;if(!o.hasOwnProperty(e))return!0;let n=o[e].not||[];for(let e=0;e<t.length;e+=1){let r=t[e];for(let t=0;t<n.length;t+=1)if(!0===r.tags.has(n[t]))return!1}return!0};var mo=function(t,e,r){const{model:o,methods:n}=r,{getDoc:s,setTag:i,unTag:a}=n.one,l=n.two.looksPlural;if(0===t.length)return t;return("undefined"!=typeof process&&process.env?process.env:self.env||{}).DEBUG_TAGS&&console.log(`\n\n  [32m→ ${t.length} post-tagger:[0m`),t.map((t=>{if(!t.tag&&!t.chunk&&!t.unTag)return;let n=t.reason||t.match,u=s([t.pointer],e)[0];if(!0===t.safe){if(!1===po(u,t.tag,o))return;if("-"===u[u.length-1].post)return}if(void 0!==t.tag&&(i(u,t.tag,r,t.safe,`[post] '${n}'`),"Noun"===t.tag&&l)){let e=u[u.length-1];l(e.text)?i([e],"Plural",r,t.safe,"quick-plural"):i([e],"Singular",r,t.safe,"quick-singular")}void 0!==t.unTag&&a(u,t.unTag,r,t.safe,n),t.chunk&&u.forEach((e=>e.chunk=t.chunk))}))},go={lib:{buildNet:function(t){let e=this.methods().one.buildNet(t,this.world());return e.isNet=!0,e}},api:so,methods:{one:{buildNet:lo,bulkMatch:fo,bulkTagger:mo}}};const wo=/ /,vo=function(t,e){"Noun"===e&&(t.chunk=e),"Verb"===e&&(t.chunk=e)},bo=function(t,e,r,o){if(!0===t.tags.has(e))return null;if("."===e)return null;let n=r[e];if(n){if(n.not&&n.not.length>0)for(let e=0;e<n.not.length;e+=1){if(!0===o&&t.tags.has(n.not[e]))return null;t.tags.delete(n.not[e])}if(n.parents&&n.parents.length>0)for(let e=0;e<n.parents.length;e+=1)t.tags.add(n.parents[e]),vo(t,n.parents[e])}return t.tags.add(e),t.dirty=!0,vo(t,e),!0},yo=function(t,e,r={},o,n){const s=r.model.one.tagSet||{};if(!e)return;const i="undefined"!=typeof process&&process.env?process.env:self.env||{};var a;if(i&&i.DEBUG_TAGS&&((t,e,r="")=>{let o=t.map((t=>t.text||"["+t.implicit+"]")).join(" ");var n;"string"!=typeof e&&e.length>2&&(e=e.slice(0,2).join(", #")+" +"),e="string"!=typeof e?e.join(", #"):e,console.log(` ${(n=o,"[33m[3m"+n+"[0m").padEnd(24)} [32m→[0m #${e.padEnd(22)}  ${(t=>"[3m"+t+"[0m")(r)}`)})(t,e,n),!0!=(a=e,"[object Array]"===Object.prototype.toString.call(a)))if("string"==typeof e)if(e=e.trim(),wo.test(e))!function(t,e,r,o){let n=e.split(wo);t.forEach(((t,e)=>{let s=n[e];s&&(s=s.replace(/^#/,""),bo(t,s,r,o))}))}(t,e,s,o);else{e=e.replace(/^#/,"");for(let r=0;r<t.length;r+=1)bo(t[r],e,s,o)}else console.warn(`compromise: Invalid tag '${e}'`);else e.forEach((e=>yo(t,e,r,o)))};var Po=yo;var jo=function(t,e,r){e=e.trim().replace(/^#/,"");for(let o=0;o<t.length;o+=1){let n=t[o];if("*"===e){n.tags.clear();continue}let s=r[e];if(s&&s.children.length>0)for(let t=0;t<s.children.length;t+=1)n.tags.delete(s.children[t]);n.tags.delete(e)}};const xo=function(t){return t.children=t.children||[],t._cache=t._cache||{},t.props=t.props||{},t._cache.parents=t._cache.parents||[],t._cache.children=t._cache.children||[],t},Eo=/^ *(#|\/\/)/,Oo=function(t){let e=t.trim().split(/->/),r=[];e.forEach((t=>{r=r.concat(function(t){if(!(t=t.trim()))return null;if(/^\[/.test(t)&&/\]$/.test(t)){let e=(t=(t=t.replace(/^\[/,"")).replace(/\]$/,"")).split(/,/);return e=e.map((t=>t.trim())).filter((t=>t)),e=e.map((t=>xo({id:t}))),e}return[xo({id:t})]}(t))})),r=r.filter((t=>t));let o=r[0];for(let t=1;t<r.length;t+=1)o.children.push(r[t]),o=r[t];return r[0]},ko=(t,e)=>{let r=[],o=[t];for(;o.length>0;){let t=o.pop();r.push(t),t.children&&t.children.forEach((r=>{e&&e(t,r),o.push(r)}))}return r},Ao=t=>"[object Array]"===Object.prototype.toString.call(t),So=t=>(t=t||"").trim(),To=function(t=[]){return"string"==typeof t?function(t){let e=t.split(/\r?\n/),r=[];e.forEach((t=>{if(!t.trim()||Eo.test(t))return;let e=(t=>{const e=/^( {2}|\t)/;let r=0;for(;e.test(t);)t=t.replace(e,""),r+=1;return r})(t);r.push({indent:e,node:Oo(t)})}));let o=function(t){let e={children:[]};return t.forEach(((r,o)=>{0===r.indent?e.children=e.children.concat(r.node):t[o-1]&&function(t,e){let r=t[e].indent;for(;e>=0;e-=1)if(t[e].indent<r)return t[e];return t[0]}(t,o).node.children.push(r.node)})),e}(r);return o=xo(o),o}(t):Ao(t)?function(t){let e={};t.forEach((t=>{e[t.id]=t}));let r=xo({});return t.forEach((t=>{if((t=xo(t)).parent)if(e.hasOwnProperty(t.parent)){let r=e[t.parent];delete t.parent,r.children.push(t)}else console.warn(`[Grad] - missing node '${t.parent}'`);else r.children.push(t)})),r}(t):(ko(e=t).forEach(xo),e);var e},_o=function(t,e){let r="-> ";e&&(r=(t=>"[2m"+t+"[0m")("→ "));let o="";return ko(t).forEach(((t,n)=>{let s=t.id||"";if(e&&(s=(t=>"[31m"+t+"[0m")(s)),0===n&&!t.id)return;let i=t._cache.parents.length;o+="    ".repeat(i)+r+s+"\n"})),o},Co=function(t){let e=ko(t);e.forEach((t=>{delete(t=Object.assign({},t)).children}));let r=e[0];return r&&!r.id&&0===Object.keys(r.props).length&&e.shift(),e},No={text:_o,txt:_o,array:Co,flat:Co},Vo=function(t,e){return"nested"===e||"json"===e?t:"debug"===e?(console.log(_o(t,!0)),null):No.hasOwnProperty(e)?No[e](t):t},qo=t=>{ko(t,((t,e)=>{t.id&&(t._cache.parents=t._cache.parents||[],e._cache.parents=t._cache.parents.concat([t.id]))}))},Fo=/\//;class g{constructor(t={}){Object.defineProperty(this,"json",{enumerable:!1,value:t,writable:!0})}get children(){return this.json.children}get id(){return this.json.id}get found(){return this.json.id||this.json.children.length>0}props(t={}){let e=this.json.props||{};return"string"==typeof t&&(e[t]=!0),this.json.props=Object.assign(e,t),this}get(t){if(t=So(t),!Fo.test(t)){let e=this.json.children.find((e=>e.id===t));return new g(e)}let e=((t,e)=>{let r=(t=>"string"!=typeof t?t:(t=t.replace(/^\//,"")).split(/\//))(e=e||"");for(let e=0;e<r.length;e+=1){let o=t.children.find((t=>t.id===r[e]));if(!o)return null;t=o}return t})(this.json,t)||xo({});return new g(e)}add(t,e={}){if(Ao(t))return t.forEach((t=>this.add(So(t),e))),this;t=So(t);let r=xo({id:t,props:e});return this.json.children.push(r),new g(r)}remove(t){return t=So(t),this.json.children=this.json.children.filter((e=>e.id!==t)),this}nodes(){return ko(this.json).map((t=>(delete(t=Object.assign({},t)).children,t)))}cache(){return(t=>{let e=ko(t,((t,e)=>{t.id&&(t._cache.parents=t._cache.parents||[],t._cache.children=t._cache.children||[],e._cache.parents=t._cache.parents.concat([t.id]))})),r={};e.forEach((t=>{t.id&&(r[t.id]=t)})),e.forEach((t=>{t._cache.parents.forEach((e=>{r.hasOwnProperty(e)&&r[e]._cache.children.push(t.id)}))})),t._cache.children=Object.keys(r)})(this.json),this}list(){return ko(this.json)}fillDown(){var t;return t=this.json,ko(t,((t,e)=>{e.props=((t,e)=>(Object.keys(e).forEach((r=>{if(e[r]instanceof Set){let o=t[r]||new Set;t[r]=new Set([...o,...e[r]])}else if((t=>t&&"object"==typeof t&&!Array.isArray(t))(e[r])){let o=t[r]||{};t[r]=Object.assign({},e[r],o)}else Ao(e[r])?t[r]=e[r].concat(t[r]||[]):void 0===t[r]&&(t[r]=e[r])})),t))(e.props,t.props)})),this}depth(){qo(this.json);let t=ko(this.json),e=t.length>1?1:0;return t.forEach((t=>{if(0===t._cache.parents.length)return;let r=t._cache.parents.length+1;r>e&&(e=r)})),e}out(t){return qo(this.json),Vo(this.json,t)}debug(){return qo(this.json),Vo(this.json,"debug"),this}}const $o=function(t){let e=To(t);return new g(e)};$o.prototype.plugin=function(t){t(this)};var zo={Noun:"blue",Verb:"green",Negative:"green",Date:"red",Value:"red",Adjective:"magenta",Preposition:"cyan",Conjunction:"cyan",Determiner:"cyan",Hyphenated:"cyan",Adverb:"cyan"};const Do=function(t){if(zo.hasOwnProperty(t.id))return zo[t.id];if(zo.hasOwnProperty(t.is))return zo[t.is];let e=t._cache.parents.find((t=>zo[t]));return zo[e]};var Go=function(t){const e={};return t.forEach((t=>{let{not:r,also:o,is:n,novel:s}=t.props,i=t._cache.parents;o&&(i=i.concat(o)),e[t.id]={is:n,not:r,novel:s,also:o,parents:i,children:t._cache.children,color:Do(t)}})),Object.keys(e).forEach((t=>{let r=new Set(e[t].not);e[t].not.forEach((t=>{e[t]&&e[t].children.forEach((t=>r.add(t)))})),e[t].not=Array.from(r)})),e};const Lo=function(t){return t?"string"==typeof t?[t]:t:[]};var Mo=function(t,e){return t=function(t,e){return Object.keys(t).forEach((r=>{t[r].isA&&(t[r].is=t[r].isA),t[r].notA&&(t[r].not=t[r].notA),t[r].is&&"string"==typeof t[r].is&&(e.hasOwnProperty(t[r].is)||t.hasOwnProperty(t[r].is)||(t[t[r].is]={})),t[r].not&&"string"==typeof t[r].not&&!t.hasOwnProperty(t[r].not)&&(e.hasOwnProperty(t[r].not)||t.hasOwnProperty(t[r].not)||(t[t[r].not]={}))})),t}(t,e),Object.keys(t).forEach((e=>{t[e].children=Lo(t[e].children),t[e].not=Lo(t[e].not)})),Object.keys(t).forEach((e=>{(t[e].not||[]).forEach((r=>{t[r]&&t[r].not&&t[r].not.push(e)}))})),t};var Io=function(t,e){Object.keys(e).length>0&&(t=function(t){return Object.keys(t).forEach((e=>{t[e]=Object.assign({},t[e]),t[e].novel=!0})),t}(t)),t=Mo(t,e);const r=function(t){const e=Object.keys(t).map((e=>{let r=t[e];const o={not:new Set(r.not),also:r.also,is:r.is,novel:r.novel};return{id:e,parent:r.is,props:o,children:[]}}));return $o(e).cache().fillDown().out("array")}(Object.assign({},e,t));return Go(r)},Uo={one:{setTag:Po,unTag:jo,addTags:Io}};const Bo=function(t){return"[object Array]"===Object.prototype.toString.call(t)},Wo={tag:function(t,e="",r){if(!this.found||!t)return this;let o=this.termList();if(0===o.length)return this;const{methods:n,verbose:s,world:i}=this;return!0===s&&console.log(" +  ",t,e||""),Bo(t)?t.forEach((t=>n.one.setTag(o,t,i,r,e))):n.one.setTag(o,t,i,r,e),this.uncache(),this},tagSafe:function(t,e=""){return this.tag(t,e,!0)},unTag:function(t,e){if(!this.found||!t)return this;let r=this.termList();if(0===r.length)return this;const{methods:o,verbose:n,model:s}=this;!0===n&&console.log(" -  ",t,e||"");let i=s.one.tagSet;return Bo(t)?t.forEach((t=>o.one.unTag(r,t,i))):o.one.unTag(r,t,i),this.uncache(),this},canBe:function(t){t=t.replace(/^#/,"");let e=this.model.one.tagSet;if(!e.hasOwnProperty(t))return this;let r=e[t].not||[],o=[];this.document.forEach(((t,e)=>{t.forEach(((t,n)=>{r.find((e=>t.tags.has(e)))&&o.push([e,n,n+1])}))}));let n=this.update(o);return this.difference(n)}};var Ro=Wo;var Ho=function(t){Object.assign(t.prototype,Ro)};var Qo={addTags:function(t){const{model:e,methods:r}=this.world(),o=e.one.tagSet;let n=(0,r.one.addTags)(t,o);return e.one.tagSet=n,this}};const Zo=new Set(["Auxiliary","Possessive"]);var Ko=function(t){const{document:e,world:r}=t,o=r.model.one.tagSet;e.forEach((t=>{t.forEach((t=>{let e=Array.from(t.tags);t.tagRank=function(t,e){return t=t.sort(((t,r)=>{if(Zo.has(t)||!e.hasOwnProperty(r))return 1;if(Zo.has(r)||!e.hasOwnProperty(t))return-1;let o=e[t].children||[],n=o.length;return o=e[r].children||[],n-o.length})),t}(e,o)}))}))},Yo={model:{one:{tagSet:{}}},compute:{tagRank:Ko},methods:Uo,api:Ho,lib:Qo};const Jo=/([.!?\u203D\u2E18\u203C\u2047-\u2049]+\s)/g,Xo=/^[.!?\u203D\u2E18\u203C\u2047-\u2049]+\s$/,tn=/((?:\r?\n|\r)+)/;var en=function(t){let e=[],r=t.split(tn);for(let t=0;t<r.length;t++){let o=r[t].split(Jo);for(let t=0;t<o.length;t++)o[t+1]&&!0===Xo.test(o[t+1])&&(o[t]+=o[t+1],o[t+1]=""),""!==o[t]&&e.push(o[t])}return e};const rn=/[a-z0-9\u00C0-\u00FF\u00a9\u00ae\u2000-\u3300\ud000-\udfff]/i,on=/\S/;var nn=function(t){let e=[];for(let r=0;r<t.length;r++){let o=t[r];if(void 0!==o&&""!==o){if(!1===on.test(o)||!1===rn.test(o)){if(e[e.length-1]){e[e.length-1]+=o;continue}if(t[r+1]){t[r+1]=o+t[r+1];continue}}e.push(o)}}return e};var sn=function(t,e){const r=e.methods.one.tokenize.isSentence,o=e.model.one.abbreviations||new Set;let n=[];for(let e=0;e<t.length;e++){let s=t[e];t[e+1]&&!1===r(s,o)?t[e+1]=s+(t[e+1]||""):s&&s.length>0&&(n.push(s),t[e]="")}return n};const an={'"':'"',"＂":"＂","“":"”","‟":"”","„":"”","⹂":"”","‚":"’","«":"»","‹":"›","‵":"′","‶":"″","‷":"‴","〝":"〞","〟":"〞"},ln=RegExp("("+Object.keys(an).join("|")+")","g"),un=RegExp("("+Object.values(an).join("|")+")","g"),cn=function(t){if(!t)return!1;let e=t.match(un);return null!==e&&1===e.length};var hn=function(t){let e=[];for(let r=0;r<t.length;r+=1){let o=t[r].match(ln);if(null!==o&&1===o.length){if(cn(t[r+1])&&t[r+1].length<280){t[r]+=t[r+1],e.push(t[r]),t[r+1]="",r+=1;continue}if(cn(t[r+2])){let o=t[r+1]+t[r+2];if(o.length<280){t[r]+=o,e.push(t[r]),t[r+1]="",t[r+2]="",r+=2;continue}}}e.push(t[r])}return e};const dn=/\(/g,fn=/\)/g;var pn=function(t){let e=[];for(let r=0;r<t.length;r+=1){let o=t[r].match(dn);if(null!==o&&1===o.length&&t[r+1]&&t[r+1].length<250){if(null!==t[r+1].match(fn)&&1===o.length&&!dn.test(t[r+1])){t[r]+=t[r+1],e.push(t[r]),t[r+1]="",r+=1;continue}}e.push(t[r])}return e};const mn=/\S/,gn=/^\s+/;var wn=function(t,e){if(t=t||"",!(t=String(t))||"string"!=typeof t||!1===mn.test(t))return[];t=t.replace(" "," ");let r=en(t),o=nn(r);if(o=sn(o,e),o=hn(o),o=pn(o),0===o.length)return[t];for(let t=1;t<o.length;t+=1){let e=o[t].match(gn);null!==e&&(o[t-1]+=e[0],o[t]=o[t].replace(gn,""))}return o};const vn=function(t,e){let r=t.split(/[-–—]/);if(r.length<=1)return!1;const{prefixes:o,suffixes:n}=e.one;if(1===r[0].length&&/[a-z]/i.test(r[0]))return!1;if(o.hasOwnProperty(r[0]))return!1;if(r[1]=r[1].trim().replace(/[.?!]$/,""),n.hasOwnProperty(r[1]))return!1;if(!0===/^([a-z\u00C0-\u00FF`"'/]+)[-–—]([a-z0-9\u00C0-\u00FF].*)/i.test(t))return!0;return!0===/^([0-9]{1,4})[-–—]([a-z\u00C0-\u00FF`"'/-]+$)/i.test(t)},bn=function(t){let e=[];const r=t.split(/[-–—]/);let o="-",n=t.match(/[-–—]/);n&&n[0]&&(o=n);for(let t=0;t<r.length;t++)t===r.length-1?e.push(r[t]):e.push(r[t]+o);return e};var yn=function(t){const e=/^[0-9]{1,4}(:[0-9][0-9])?([a-z]{1,2})? ?[-–—] ?$/,r=/^[0-9]{1,4}([a-z]{1,2})? ?$/;for(let o=0;o<t.length-1;o+=1)t[o+1]&&e.test(t[o])&&r.test(t[o+1])&&(t[o]=t[o]+t[o+1],t[o+1]=null);return t};const Pn=/\p{L} ?\/ ?\p{L}+$/u;var jn=function(t){for(let e=1;e<t.length-1;e++)Pn.test(t[e])&&(t[e-1]+=t[e]+t[e+1],t[e]=null,t[e+1]=null);return t};const xn=/\S/,En=/^[!?.]+$/,On=/(\S+)/;let kn=[".","?","!",":",";","-","–","—","--","...","(",")","[","]",'"',"'","`","«","»","*"];kn=kn.reduce(((t,e)=>(t[e]=!0,t)),{});var An=function(t,e){let r=[],o=[];if("number"==typeof(t=t||"")&&(t=String(t)),function(t){return"[object Array]"===Object.prototype.toString.call(t)}(t))return t;const n=t.split(On);for(let t=0;t<n.length;t++)!0!==vn(n[t],e)?o.push(n[t]):o=o.concat(bn(n[t]));let s="";for(let t=0;t<o.length;t++){let e=o[t];!0===xn.test(e)&&!1===kn.hasOwnProperty(e)&&!1===En.test(e)?(r.length>0?(r[r.length-1]+=s,r.push(e)):r.push(s+e),s=""):s+=e}return s&&(0===r.length&&(r[0]=""),r[r.length-1]+=s),r=jn(r),r=yn(r),r=r.filter((t=>t)),r};const Sn=/\p{Letter}/u,Tn=/[\p{Number}\p{Currency_Symbol}]/u,_n=/^[a-z]\.([a-z]\.)+/i,Cn=/[sn]['’]$/;var Nn=function(t,e){let{prePunctuation:r,postPunctuation:o,emoticons:n}=e.one,s=t,i="",a="",l=Array.from(t);if(n.hasOwnProperty(t.trim()))return{str:t.trim(),pre:i,post:" "};let u=l.length;for(let t=0;t<u;t+=1){let t=l[0];if(!0!==r[t]){if(("+"===t||"-"===t)&&Tn.test(l[1]))break;if("'"===t&&3===t.length&&Tn.test(l[1]))break;if(Sn.test(t)||Tn.test(t))break;i+=l.shift()}}u=l.length;for(let t=0;t<u;t+=1){let t=l[l.length-1];if(!0!==o[t]){if(Sn.test(t)||Tn.test(t))break;"."===t&&!0===_n.test(s)||"'"===t&&!0===Cn.test(s)||(a=l.pop()+a)}}return""===(t=l.join(""))&&(s=s.replace(/ *$/,(t=>(a=t||"",""))),t=s,i=""),{str:t,pre:i,post:a}};var Vn=(t,e)=>{let{str:r,pre:o,post:n}=Nn(t,e);return{text:r,pre:o,post:n,tags:new Set}};var qn=function(t,e){const r=e.model.one.unicode||{};let o=(t=t||"").split("");return o.forEach(((t,e)=>{r[t]&&(o[e]=r[t])})),o.join("")};var Fn=function(t){let e=t=(t=(t=t||"").toLowerCase()).trim();return t=(t=(t=t.replace(/[,;.!?]+$/,"")).replace(/\u2026/g,"...")).replace(/\u2013/g,"-"),!1===/^[:;]/.test(t)&&(t=(t=(t=t.replace(/\.{3,}$/g,"")).replace(/[",.!:;?)]+$/g,"")).replace(/^['"(]+/g,"")),""===(t=(t=t.replace(/[\u200B-\u200D\uFEFF]/g,"")).trim())&&(t=e),t=t.replace(/([0-9]),([0-9])/g,"$1$2")};const $n=/([A-Z]\.)+[A-Z]?,?$/,zn=/^[A-Z]\.,?$/,Dn=/[A-Z]{2,}('s|,)?$/,Gn=/([a-z]\.)+[a-z]\.?$/;var Ln=function(t){return function(t){return!0===$n.test(t)||!0===Gn.test(t)||!0===zn.test(t)||!0===Dn.test(t)}(t)&&(t=t.replace(/\./g,"")),t};var Mn=function(t,e){const r=e.methods.one.killUnicode;let o=t.text||"";o=Fn(o),o=r(o,e),o=Ln(o),t.normal=o};var In=function(t,e){const{methods:r,model:o}=e,{splitSentences:n,splitTerms:s,splitWhitespace:i}=r.one.tokenize;return t=n(t=t||"",e).map((t=>{let r=s(t,o);return r=r.map((t=>i(t,o))),r.forEach((t=>{Mn(t,e)})),r})),t};const Un=/[ .][A-Z]\.? *$/i,Bn=/(?:\u2026|\.{2,}) *$/,Wn=/\p{L}/u,Rn=/^[A-Z]\. $/;var Hn={one:{killUnicode:qn,tokenize:{splitSentences:wn,isSentence:function(t,e){if(!1===Wn.test(t))return!1;if(!0===Un.test(t))return!1;if(3===t.length&&Rn.test(t))return!1;if(!0===Bn.test(t))return!1;let r=t.replace(/[.!?\u203D\u2E18\u203C\u2047-\u2049] *$/,"").split(" "),o=r[r.length-1].toLowerCase();return!0!==e.hasOwnProperty(o)},splitTerms:An,splitWhitespace:Vn,fromString:In}}};var Qn={"&":"and","@":"at","%":"percent",plz:"please",bein:"being"};let Zn={},Kn={};[[["approx","apt","bc","cyn","eg","esp","est","etc","ex","exp","prob","pron","gal","min","pseud","fig","jd","lat","lng","vol","fm","def","misc","plz","ea","ps","sec","pt","pref","pl","pp","qt","fr","sq","nee","ss","tel","temp","vet","ver","fem","masc","eng","adj","vb","rb","inf","situ","vivo","vitro","wr"]],[["dl","ml","gal","qt","pt","tbl","tsp","tbsp","km","dm","cm","mm","mi","td","hr","hrs","kg","hg","dg","cg","mg","µg","lb","oz","sq ft","hz","mps","mph","kmph","kb","mb","tb","lx","lm","fl oz","yb"],"Unit"],[["ad","al","arc","ba","bl","ca","cca","col","corp","ft","fy","ie","lit","ma","md","pd","tce"],"Noun"],[["adj","adm","adv","asst","atty","bldg","brig","capt","cmdr","comdr","cpl","det","dr","esq","gen","gov","hon","jr","llb","lt","maj","messrs","mlle","mme","mr","mrs","ms","mstr","phd","prof","pvt","rep","reps","res","rev","sen","sens","sfc","sgt","sir","sr","supt","surg"],"Honorific"],[["jan","feb","mar","apr","jun","jul","aug","sep","sept","oct","nov","dec"],"Month"],[["dept","univ","assn","bros","inc","ltd","co"],"Organization"],[["rd","st","dist","mt","ave","blvd","cl","cres","hwy","ariz","cal","calif","colo","conn","fla","fl","ga","ida","ia","kan","kans","minn","neb","nebr","okla","penna","penn","pa","dak","tenn","tex","ut","vt","va","wis","wisc","wy","wyo","usafa","alta","ont","que","sask"],"Place"]].forEach((t=>{t[0].forEach((e=>{Zn[e]=!0,Kn[e]="Abbreviation",void 0!==t[1]&&(Kn[e]=[Kn[e],t[1]])}))}));var Yn=["anti","bi","co","contra","de","extra","infra","inter","intra","macro","micro","mis","mono","multi","peri","pre","pro","proto","pseudo","re","sub","supra","trans","tri","un","out","ex"].reduce(((t,e)=>(t[e]=!0,t)),{});let Jn={"!":"¡","?":"¿Ɂ",'"':'“”"❝❞',"'":"‘‛❛❜’","-":"—–",a:"ªÀÁÂÃÄÅàáâãäåĀāĂăĄąǍǎǞǟǠǡǺǻȀȁȂȃȦȧȺΆΑΔΛάαλАаѦѧӐӑӒӓƛæ",b:"ßþƀƁƂƃƄƅɃΒβϐϦБВЪЬвъьѢѣҌҍ",c:"¢©ÇçĆćĈĉĊċČčƆƇƈȻȼͻͼϲϹϽϾСсєҀҁҪҫ",d:"ÐĎďĐđƉƊȡƋƌ",e:"ÈÉÊËèéêëĒēĔĕĖėĘęĚěƐȄȅȆȇȨȩɆɇΈΕΞΣέεξϵЀЁЕеѐёҼҽҾҿӖӗ",f:"ƑƒϜϝӺӻҒғſ",g:"ĜĝĞğĠġĢģƓǤǥǦǧǴǵ",h:"ĤĥĦħƕǶȞȟΉΗЂЊЋНнђћҢңҤҥҺһӉӊ",I:"ÌÍÎÏ",i:"ìíîïĨĩĪīĬĭĮįİıƖƗȈȉȊȋΊΐΪίιϊІЇії",j:"ĴĵǰȷɈɉϳЈј",k:"ĶķĸƘƙǨǩΚκЌЖКжкќҚқҜҝҞҟҠҡ",l:"ĹĺĻļĽľĿŀŁłƚƪǀǏǐȴȽΙӀӏ",m:"ΜϺϻМмӍӎ",n:"ÑñŃńŅņŇňŉŊŋƝƞǸǹȠȵΝΠήηϞЍИЙЛПийлпѝҊҋӅӆӢӣӤӥπ",o:"ÒÓÔÕÖØðòóôõöøŌōŎŏŐőƟƠơǑǒǪǫǬǭǾǿȌȍȎȏȪȫȬȭȮȯȰȱΌΘΟθοσόϕϘϙϬϴОФоѲѳӦӧӨөӪӫ",p:"ƤΡρϷϸϼРрҎҏÞ",q:"Ɋɋ",r:"ŔŕŖŗŘřƦȐȑȒȓɌɍЃГЯгяѓҐґ",s:"ŚśŜŝŞşŠšƧƨȘșȿЅѕ",t:"ŢţŤťŦŧƫƬƭƮȚțȶȾΓΤτϮТт",u:"ÙÚÛÜùúûüŨũŪūŬŭŮůŰűŲųƯưƱƲǓǔǕǖǗǘǙǚǛǜȔȕȖȗɄΰυϋύ",v:"νѴѵѶѷ",w:"ŴŵƜωώϖϢϣШЩшщѡѿ",x:"×ΧχϗϰХхҲҳӼӽӾӿ",y:"ÝýÿŶŷŸƳƴȲȳɎɏΎΥΫγψϒϓϔЎУучўѰѱҮүҰұӮӯӰӱӲӳ",z:"ŹźŻżŽžƵƶȤȥɀΖ"},Xn={};Object.keys(Jn).forEach((function(t){Jn[t].split("").forEach((function(e){Xn[e]=t}))}));const ts=/\//,es=/[a-z]\.[a-z]/i,rs=/[0-9]/;var os=function(t,e){let r=t.normal||t.text||t.machine;const o=e.model.one.aliases;if(o.hasOwnProperty(r)&&(t.alias=t.alias||[],t.alias.push(o[r])),ts.test(r)&&!es.test(r)&&!rs.test(r)){let e=r.split(ts);e.length<=2&&e.forEach((e=>{""!==(e=e.trim())&&(t.alias=t.alias||[],t.alias.push(e))}))}return t};const ns=/^\p{Letter}+-\p{Letter}+$/u;var ss=function(t){let e=t.implicit||t.normal||t.text;e=e.replace(/['’]s$/,""),e=e.replace(/s['’]$/,"s"),e=e.replace(/([aeiou][ktrp])in'$/,"$1ing"),ns.test(e)&&(e=e.replace(/-/g,"")),e=e.replace(/^[#@]/,""),e!==t.normal&&(t.machine=e)};var is=function(t){let e=t.docs,r={};for(let t=0;t<e.length;t+=1)for(let o=0;o<e[t].length;o+=1){let n=e[t][o],s=n.machine||n.normal;r[s]=r[s]||0,r[s]+=1}for(let t=0;t<e.length;t+=1)for(let o=0;o<e[t].length;o+=1){let n=e[t][o],s=n.machine||n.normal;n.freq=r[s]}};var as=function(t){let e=0,r=0,o=t.document;for(let t=0;t<o.length;t+=1)for(let n=0;n<o[t].length;n+=1){let s=o[t][n];s.offset={index:r,start:e+s.pre.length,length:s.text.length},e+=s.pre.length+s.text.length+s.post.length,r+=1}};var ls=function(t){let e=t.document;for(let t=0;t<e.length;t+=1)for(let r=0;r<e[t].length;r+=1)e[t][r].index=[t,r]};var us=function(t){let e=0,r=t.docs;for(let t=0;t<r.length;t+=1)for(let o=0;o<r[t].length;o+=1)""!==r[t][o].normal&&(e+=1,r[t][o].wordCount=e)};const cs=function(t,e){let r=t.docs;for(let o=0;o<r.length;o+=1)for(let n=0;n<r[o].length;n+=1)e(r[o][n],t.world)};var hs={compute:{alias:t=>cs(t,os),machine:t=>cs(t,ss),normal:t=>cs(t,Mn),freq:is,offset:as,index:ls,wordCount:us},methods:Hn,model:{one:{aliases:Qn,abbreviations:Zn,prefixes:Yn,suffixes:{like:!0,ish:!0,less:!0,able:!0,elect:!0,type:!0,designate:!0},prePunctuation:{"#":!0,"@":!0,_:!0,"°":!0,"​":!0,"‌":!0,"‍":!0,"\ufeff":!0},postPunctuation:{"%":!0,_:!0,"°":!0,"​":!0,"‌":!0,"‍":!0,"\ufeff":!0},lexicon:Kn,unicode:Xn,emoticons:{"<3":!0,"</3":!0,"<\\3":!0,":^P":!0,":^p":!0,":^O":!0,":^3":!0}}},hooks:["alias","machine","index","id"]};var ds={typeahead:function(t){const e=t.model.one.typeahead,r=t.docs;if(0===r.length||0===Object.keys(e).length)return;let o=r[r.length-1]||[],n=o[o.length-1];if(!n.post&&e.hasOwnProperty(n.normal)){let r=e[n.normal];n.implicit=r,n.machine=r,n.typeahead=!0,t.compute.preTagger&&t.last().unTag("*").compute(["lexicon","preTagger"])}}};const fs=function(){const t=this.docs;if(0===t.length)return this;let e=t[t.length-1]||[],r=e[e.length-1];return!0===r.typeahead&&r.machine&&(r.text=r.machine,r.normal=r.machine),this};var ps=function(t){t.prototype.autoFill=fs};var ms=function(t,e,r){let o={},n=[],s=r.prefixes||{};return t.forEach((t=>{let i=(t=t.toLowerCase().trim()).length;e.max&&i>e.max&&(i=e.max);for(let a=e.min;a<i;a+=1){let i=t.substring(0,a);e.safe&&r.model.one.lexicon.hasOwnProperty(i)||(!0!==s.hasOwnProperty(i)&&!0!==o.hasOwnProperty(i)?o[i]=t:n.push(i))}})),o=Object.assign({},s,o),n.forEach((t=>{delete o[t]})),o};const gs={safe:!0,min:3};var ws={typeahead:function(t=[],e={}){let r=this.model();var o;e=Object.assign({},gs,e),o=t,"[object Object]"===Object.prototype.toString.call(o)&&(Object.assign(r.one.lexicon,t),t=Object.keys(t));let n=ms(t,e,this.world());return Object.keys(n).forEach((t=>{r.one.typeahead.hasOwnProperty(t)?delete r.one.typeahead[t]:r.one.typeahead[t]=n[t]})),this}};var vs={model:{one:{typeahead:{}}},api:ps,lib:ws,compute:ds,hooks:["typeahead"]};w.extend(tt),w.extend(Wr),w.extend(ur),w.extend(no),w.extend(Yo),w.plugin(St),w.extend(hs),w.plugin(P),w.extend(Wt),w.extend(vs),w.extend($t),w.extend(go);var bs={};const ys=36,Ps="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",js=Ps.split("").reduce((function(t,e,r){return t[e]=r,t}),{});var xs=function(t){if(void 0!==js[t])return js[t];let e=0,r=1,o=ys,n=1;for(;r<t.length;e+=o,r++,o*=ys);for(let r=t.length-1;r>=0;r--,n*=ys){let o=t.charCodeAt(r)-48;o>10&&(o-=7),e+=o*n}return e};var Es=function(t){const e=new RegExp("([0-9A-Z]+):([0-9A-Z]+)");for(let r=0;r<t.nodes.length;r++){const o=e.exec(t.nodes[r]);if(!o){t.symCount=r;break}t.syms[xs(o[1])]=xs(o[2])}t.nodes=t.nodes.slice(t.symCount,t.nodes.length)};const Os=function(t,e,r){const o=xs(e);return o<t.symCount?t.syms[o]:r+o+1-t.symCount};var ks=function(t){const e={nodes:t.split(";"),syms:[],symCount:0};return t.match(":")&&Es(e),function(t){const e=[],r=(o,n)=>{let s=t.nodes[o];"!"===s[0]&&(e.push(n),s=s.slice(1));const i=s.split(/([A-Z0-9,]+)/g);for(let s=0;s<i.length;s+=2){const a=i[s],l=i[s+1];if(!a)continue;const u=n+a;if(","===l||void 0===l){e.push(u);continue}const c=Os(t,l,o);r(c,u)}};return r(0,""),e}(e)};var As=function(t){if(!t)return{};const e=t.split("|").reduce(((t,e)=>{const r=e.split("¦");return t[r[0]]=r[1],t}),{}),r={};return Object.keys(e).forEach((function(t){const o=ks(e[t]);"true"===t&&(t=!0);for(let e=0;e<o.length;e++){const n=o[e];!0===r.hasOwnProperty(n)?!1===Array.isArray(r[n])?r[n]=[r[n],t]:r[n].push(t):r[n]=t}})),r},Ss={verb:{},noun:{},adjective:{}};let Ts={};["meu","meus","minha","minhas","teu","teus","tua","tuas","seu","seus","sua","suas","dele","dela","nosso","nossos","nossa","nossas","vosso","vossos","vossa","vossas","deles","delas"].forEach((t=>{Ts[t]=["Possessive","Pronoun"]}));const _s=["FirstPerson","SecondPerson","ThirdPerson","FirstPersonPlural","SecondPersonPlural","ThirdPersonPlural"],Cs=(t,e)=>{t.forEach(((t,r)=>{Ts[t]=Ts[t]||["Copula",_s[r],e]}))};Ts.sido=["PastParticiple","Copula"],Ts.sendo=["Gerund","Copula"],Ts["sê"]=["Imperative","Copula","SecondPerson"],Ts.sede=["Imperative","Copula","SecondPersonPlural"],Cs(["ser","seres","ser","sermos","serdes","serem"],"Infinitive"),Cs(["sou","és","é","somos","sois","são"],"PresentTense"),Cs(["fui","foste","foi","fomos","fostes","foram"],"PastTense"),Cs(["era","eras","era","éramos","éreis","eram"],"Imperfect"),Cs(["fora","foras","fora","fôramos","fôreis","foram"],"Pluperfect"),Cs(["serei","serás","será","seremos","sereis","serão"],"FutureTense"),Cs(["seria","serias","seria","seríamos","seríeis","seriam"],"ConditionalVerb"),Cs(["seja","sejas","seja","sejamos","sejais","sejam"],"PresentTense"),Cs(["fosse","fosses","fosse","fôssemos","fôsseis","fossem"],"Imperfect"),Cs(["for","fores","for","formos","fordes","forem"],"FutureTense"),Ts.estado=["PastParticiple","Copula"],Ts.estando=["Gerund","Copula"],Ts["está"]=["Imperative","Copula","SecondPerson"],Ts.estai=["Imperative","Copula","SecondPersonPlural"],Cs(["estar","estares","estar","estarmos","estardes","estarem"],"Infinitive"),Cs(["estou","estás","está","estamos","estais","estão"],"PresentTense"),Cs(["estive","estiveste","esteve","estivemos","estivestes","estiveram"],"PastTense"),Cs(["estava","estavas","estava","estávamos","estáveis","estavam"],"Imperfect"),Cs(["estivera","estiveras","estivera","estivéramos","estivéreis","estiveram"],"Pluperfect"),Cs(["estarei","estarás","estará","estaremos","estareis","estarão"],"FutureTense"),Cs(["estaria","estarias","estaria","estaríamos","estaríeis","estariam"],"ConditionalVerb"),Cs(["esteja","estejas","esteja","estejamos","estejais","estejam"],"PresentTense"),Cs(["estivesse","estivesses","estivesse","estivéssemos","estivésseis","estivessem"],"Imperfect"),Cs(["estiver","estiveres","estiver","estivermos","estiverdes","estiverem"],"FutureTense");var Ns=Ts;const{toPresent:Vs,toPast:qs,toFuture:Fs,toConditional:$s,toGerund:zs,toPerfecto:Ds,toImperative:Gs,toSubjunctive:Ls}=Ss.verb;let Ms=Ns;const Is={first:"FirstPerson",second:"SecondPerson",third:"ThirdPerson",firstPlural:"FirstPersonPlural",secondPlural:"SecondPersonPlural",thirdPlural:"ThirdPersonPlural"},Us=function(t,e,r){Object.keys(t).forEach((o=>{let n=t[o];r[n]||(r[n]=[e,Is[o]])}))};Object.keys(bs).forEach((t=>{let e=As(bs[t]);Object.keys(e).forEach((e=>{if(Ms[e]=t,"Infinitive"===t){let t=Vs(e);Us(t,"PresentTense",Ms),t=qs(e),Us(t,"PastTense",Ms),t=Fs(e),Us(t,"FutureTense",Ms),t=$s(e),Us(t,"Conditional",Ms);let r=zs(e);Ms[r]=Ms[r]||"Gerund",r=Ds(e),Ms[r]=Ms[r]||"Perfecto",t=Gs(e),Us(t,"Imperative",Ms),t=Ls(e),Us(t,"Subjunctive",Ms)}if("Adjective"===t){let t=Ss.adjective.toFemale(e);Ms[t]=Ms[t]||["Adjective","FemaleAdjective","SingularAdjective"];let r=Ss.adjective.toFemalePlural(e);Ms[r]=Ms[r]||["Adjective","FemaleAdjective","PluralAdjective"]}"Cardinal"===t&&(Ms[e]=["Cardinal","TextValue"]),"Ordinal"===t&&(Ms[e]=["Ordinal","TextValue"])}))}));var Bs={model:{one:{lexicon:Ms}},compute:{root:function(t){t.world.methods.two.transform,t.docs.forEach((t=>{t.forEach((t=>{t.implicit||t.normal||t.text}))}))}},methods:{two:{transform:Ss}}};let Ws={"?":"Ɂ",'"':'“”"❝❞',"'":"‘‛❛❜’","-":"—–",a:"ªÃÅãåĀāĂăĄąǍǎǞǟǠǡǺǻȀȁȂȃȦȧȺΆΑΔΛάαλАаѦѧӐӑӒӓƛæ",b:"þƀƁƂƃƄƅɃΒβϐϦБВЪЬвъьѢѣҌҍ",c:"¢©ĆćĈĉĊċČčƆƇƈȻȼͻͼϲϹϽϾСсєҀҁҪҫ",d:"ÐĎďĐđƉƊȡƋƌ",e:"ĒēĔĕĖėĘęĚěƐȄȅȆȇȨȩɆɇΈΕΞΣέεξϵЀЁЕеѐёҼҽҾҿӖӗ",f:"ƑƒϜϝӺӻҒғſ",g:"ĜĝĞğĠġĢģƓǤǥǦǧǴǵ",h:"ĤĥĦħƕǶȞȟΉΗЂЊЋНнђћҢңҤҥҺһӉӊ",i:"ĨĩĪīĬĭĮįİıƖƗȈȉȊȋΊΐΪίιϊІЇії",j:"ĴĵǰȷɈɉϳЈј",k:"ĶķĸƘƙǨǩΚκЌЖКжкќҚқҜҝҞҟҠҡ",l:"ĹĺĻļĽľĿŀŁłƚƪǀǏǐȴȽΙӀӏ",m:"ΜϺϻМмӍӎ",n:"ŃńŅņŇňŉŊŋƝƞǸǹȠȵΝΠήηϞЍИЙЛПийлпѝҊҋӅӆӢӣӤӥπ",o:"ÕØðõøŌōŎŏŐőƟƠơǑǒǪǫǬǭǾǿȌȍȎȏȪȫȬȭȮȯȰȱΌΘΟθοσόϕϘϙϬϴОФоѲѳӦӧӨөӪӫ",p:"ƤΡρϷϸϼРрҎҏÞ",q:"Ɋɋ",r:"ŔŕŖŗŘřƦȐȑȒȓɌɍЃГЯгяѓҐґ",s:"ŚśŜŝŞşŠšƧƨȘșȿЅѕ",t:"ŢţŤťŦŧƫƬƭƮȚțȶȾΓΤτϮТт",u:"µŨũŪūŬŭŮůŰűŲųƯưƱƲǓǔǕǖǗǘǙǚǛǜȔȕȖȗɄΰμυϋύ",v:"νѴѵѶѷ",w:"ŴŵƜωώϖϢϣШЩшщѡѿ",x:"×ΧχϗϰХхҲҳӼӽӾӿ",y:"ÝýÿŶŷŸƳƴȲȳɎɏΎΥΫγψϒϓϔЎУучўѰѱҮүҰұӮӯӰӱӲӳ",z:"ŹźŻżŽžƵƶȤȥɀΖ"},Rs={};Object.keys(Ws).forEach((function(t){Ws[t].split("").forEach((function(e){Rs[e]=t}))}));var Hs=Rs,Qs=[{word:"do",to:["de","o"]},{word:"da",to:["de","a"]},{word:"dos",to:["de","os"]},{word:"das",to:["de","as"]},{word:"no",to:["em","o"]},{word:"na",to:["em","a"]},{word:"nos",to:["em","os"]},{word:"nas",to:["em","as"]},{word:"pelo",to:["por","o"]},{word:"pela",to:["por","a"]},{word:"pelos",to:["por","os"]},{word:"pelas",to:["por","as"]},{word:"ao",to:["a","o"]},{word:"à",to:["a","a"]},{word:"aos",to:["a","os"]},{word:"às",to:["a","as"]},{word:"pro",to:["para","o"]},{word:"prò",to:["para","o"]},{word:"prà",to:["para","a"]},{word:"pros",to:["para","os"]},{word:"pròs",to:["para","os"]},{word:"pràs",to:["para","as"]},{word:"cò",to:["com","o"]},{word:"coa",to:["com","a"]},{word:"còs",to:["com","os"]},{word:"coas",to:["com","as"]},{word:"dum",to:["de","um"]},{word:"duma",to:["de","uma"]},{word:"duns",to:["de","uns"]},{word:"dumas",to:["de","umas"]},{word:"num",to:["em","um"]},{word:"numa",to:["em","uma"]},{word:"nuns",to:["em","uns"]},{word:"numas",to:["em","umas"]},{word:"prum",to:["para","um"]},{word:"pruma",to:["para","uma"]},{word:"pruns",to:["para","uns"]},{word:"prumas",to:["para","umas"]},{word:"cum",to:["com","um"]},{word:"cuma",to:["com","uma"]},{word:"cuns",to:["com","uns"]},{word:"cumas",to:["com","umas"]},{word:"à",to:["a","a"]},{word:"às",to:["a","as"]},{word:"ao",to:["a","o"]},{word:"aos",to:["a","os"]},{word:"coa",to:["com","a"]},{word:"coas",to:["com","as"]},{word:"co",to:["com","o"]},{word:"cos",to:["com","os"]},{word:"do",to:["de","o"]},{word:"da",to:["de","a"]},{word:"dos",to:["de","os"]},{word:"das",to:["de","as"]},{word:"no",to:["em","o"]},{word:"na",to:["em","a"]},{word:"nos",to:["em","os"]},{word:"nas",to:["em","as"]},{word:"pro",to:["para","o"]},{word:"pra",to:["para","a"]},{word:"pros",to:["para","os"]},{word:"pras",to:["para","as"]},{word:"pelo",to:["por","o"]},{word:"pela",to:["por","a"]},{word:"pelos",to:["por","os"]},{word:"pelas",to:["por","as"]},{word:"cum",to:["com","um"]},{word:"cuns",to:["com","uns"]},{word:"cuma",to:["com","uma"]},{word:"cumas",to:["com","umas"]},{word:"dum",to:["de","um"]},{word:"duns",to:["de","uns"]},{word:"duma",to:["de","uma"]},{word:"dumas",to:["de","umas"]},{word:"num",to:["em","um"]},{word:"nuns",to:["em","uns"]},{word:"numa",to:["em","uma"]},{word:"numas",to:["em","umas"]},{word:"prum",to:["para","um"]},{word:"pruns",to:["para","uns"]},{word:"pruma",to:["para","uma"]},{word:"prumas",to:["para","umas"]},{word:"comigo",to:["com","mim"]},{word:"contigo",to:["com","ti"]},{word:"consigo",to:["com","si"]},{word:"conosco",to:["com","nós"]},{word:"convosco",to:["com","vós"]},{word:"dele",to:["de","ele"]},{word:"dela",to:["de","ela"]},{word:"deles",to:["de","eles"]},{word:"delas",to:["de","elas"]},{word:"nele",to:["em","ele"]},{word:"nela",to:["em","ela"]},{word:"neles",to:["em","eles"]},{word:"nelas",to:["em","elas"]},{word:"àquele",to:["a","aquele"]},{word:"àquela",to:["a","aquela"]},{word:"àqueles",to:["a","aqueles"]},{word:"àquelas",to:["a","aquelas"]},{word:"àquilo",to:["a","aquilo"]},{word:"deste",to:["de","este"]},{word:"desta",to:["de","esta"]},{word:"destes",to:["de","estes"]},{word:"destas",to:["de","estas"]},{word:"disto",to:["de","isto"]},{word:"desse",to:["de","esse"]},{word:"dessa",to:["de","essa"]},{word:"desses",to:["de","esses"]},{word:"dessas",to:["de","essas"]},{word:"disso",to:["de","isso"]},{word:"daquele",to:["de","aquele"]},{word:"daquela",to:["de","aquela"]},{word:"daqueles",to:["de","aqueles"]},{word:"daquelas",to:["de","aquelas"]},{word:"daquilo",to:["de","aquilo"]},{word:"neste",to:["em","este"]},{word:"nesta",to:["em","esta"]},{word:"nestes",to:["em","estes"]},{word:"nestas",to:["em","estas"]},{word:"nisto",to:["em","isto"]},{word:"nesse",to:["em","esse"]},{word:"nessa",to:["em","essa"]},{word:"nesses",to:["em","esses"]},{word:"nessas",to:["em","essas"]},{word:"nisso",to:["em","isso"]},{word:"naquele",to:["em","aquele"]},{word:"naquela",to:["em","aquela"]},{word:"naqueles",to:["em","aqueles"]},{word:"naquelas",to:["em","aquelas"]},{word:"naquilo",to:["em","aquilo"]},{word:"doutro",to:["de","outro"]},{word:"doutra",to:["de","outra"]},{word:"doutros",to:["de","outros"]},{word:"doutras",to:["de","outras"]},{word:"doutrem",to:["de","outrem"]},{word:"doutrora",to:["de","outrora"]},{word:"dalgum",to:["de","algum"]},{word:"dalguma",to:["de","alguma"]},{word:"dalguns",to:["de","alguns"]},{word:"dalgumas",to:["de","algumas"]},{word:"dalguém",to:["de","alguém"]},{word:"dalgo",to:["de","algo"]},{word:"dalgures",to:["de","algures"]},{word:"dalhures",to:["de","alhures"]},{word:"noutro",to:["em","outro"]},{word:"noutra",to:["em","outra"]},{word:"noutros",to:["em","outros"]},{word:"noutras",to:["em","outras"]},{word:"noutrem",to:["em","outrem"]},{word:"nalgum",to:["em","algum"]},{word:"nalguma",to:["em","alguma"]},{word:"nalguns",to:["em","alguns"]},{word:"nalgumas",to:["em","algumas"]},{word:"nalguém",to:["em","alguém"]},{word:"aonde",to:["a","onde"]},{word:"daqui",to:["de","aqui"]},{word:"daí",to:["de","aí"]},{word:"dali",to:["de","ali"]},{word:"daquém",to:["de","aquém"]},{word:"dalém",to:["de","além"]},{word:"dentre",to:["de","entre"]},{word:"dantes",to:["de","antes"]},{word:"dacolá",to:["de","acolá"]},{word:"donde",to:["de","onde"]},{word:"pronde",to:["para","onde"]},{word:"pelaí",to:["por","aí"]},{word:"estoutro",to:["este","outro"]},{word:"estoutra",to:["esta","outra"]},{word:"estoutros",to:["estes","outros"]},{word:"estoutras",to:["estas","outras"]},{word:"essoutro",to:["esse","outro"]},{word:"essoutra",to:["essa","outra"]},{word:"essoutros",to:["esses","outros"]},{word:"essoutras",to:["essas","outras"]},{word:"aqueloutro",to:["aquele","outro"]},{word:"aqueloutra",to:["aquela","outra"]},{word:"aqueloutros",to:["aqueles","outros"]},{word:"aqueloutras",to:["aquelas","outras"]},{word:"doravante",to:["de","ora","avante"]},{word:"destoutro",to:["de","este","outro"]},{word:"destoutra",to:["de","esta","outra"]},{word:"destoutros",to:["de","estes","outros"]},{word:"destoutras",to:["de","estas","outras"]},{word:"dessoutro",to:["de","esse","outro"]},{word:"dessoutra",to:["de","essa","outra"]},{word:"dessoutros",to:["de","esses","outros"]},{word:"dessoutras",to:["de","essas","outras"]},{word:"daqueloutro",to:["de","aquele","outro"]},{word:"daqueloutra",to:["de","aquela","outra"]},{word:"daqueloutros",to:["de","aqueles","outros"]},{word:"daqueloutras",to:["de","aquelas","outras"]},{word:"nestoutro",to:["em","este","outro"]},{word:"nestoutra",to:["em","esta","outra"]},{word:"nestoutros",to:["em","estes","outros"]},{word:"nestoutras",to:["em","estas","outras"]},{word:"nessoutro",to:["em","esse","outro"]},{word:"nessoutra",to:["em","essa","outra"]},{word:"nessoutros",to:["em","esses","outros"]},{word:"nessoutras",to:["em","essas","outras"]},{word:"naqueloutro",to:["em","aquele","outro"]},{word:"naqueloutra",to:["em","aquela","outra"]},{word:"naqueloutros",to:["em","aqueles","outros"]},{word:"naqueloutras",to:["em","aquelas","outras"]}],Zs={mutate:t=>{t.model.one.unicode=Hs,t.model.one.contractions=Qs,delete t.model.one.lexicon.que}};const Ks=["Person","Place","Organization"];var Ys={Noun:{not:["Verb","Adjective","Adverb","Value","Determiner"]},Singular:{is:"Noun",not:["Plural"]},ProperNoun:{is:"Noun"},Person:{is:"Singular",also:["ProperNoun"],not:["Place","Organization","Date"]},FirstName:{is:"Person"},MaleName:{is:"FirstName",not:["FemaleName","LastName"]},FemaleName:{is:"FirstName",not:["MaleName","LastName"]},LastName:{is:"Person",not:["FirstName"]},Honorific:{is:"Noun",not:["FirstName","LastName","Value"]},Place:{is:"Singular",not:["Person","Organization"]},Country:{is:"Place",also:["ProperNoun"],not:["City"]},City:{is:"Place",also:["ProperNoun"],not:["Country"]},Region:{is:"Place",also:["ProperNoun"]},Address:{},Organization:{is:"ProperNoun",not:["Person","Place"]},SportsTeam:{is:"Organization"},School:{is:"Organization"},Company:{is:"Organization"},Plural:{is:"Noun",not:["Singular"]},Uncountable:{is:"Noun"},Pronoun:{is:"Noun",not:Ks},Actor:{is:"Noun",not:Ks},Activity:{is:"Noun",not:["Person","Place"]},Unit:{is:"Noun",not:Ks},Demonym:{is:"Noun",also:["ProperNoun"],not:Ks},Possessive:{is:"Noun"},FemaleNoun:{is:"Noun",not:["MaleNoun"]},MaleNoun:{is:"Noun",not:["FemaleNoun"]}};var Js={Adjective:{not:["Noun","Verb","Adverb","Value"]},FemaleAdjective:{is:"Adjective",not:["MaleAdjective"]},MaleAdjective:{is:"Adjective",not:["FemaleAdjective"]},PluralAdjective:{is:"Adjective",not:["SingularAdjective"]},SingularAdjective:{is:"Adjective",not:["PluralAdjective"]},Comparable:{is:"Adjective"},Comparative:{is:"Adjective"},Superlative:{is:"Adjective",not:["Comparative"]},NumberRange:{},Adverb:{not:["Noun","Verb","Adjective","Value"]},Determiner:{not:["Noun","Verb","Adjective","Adverb","QuestionWord","Conjunction"]},Conjunction:{not:["Noun","Verb","Adjective","Adverb","Value","QuestionWord"]},Preposition:{not:["Noun","Verb","Adjective","Adverb","QuestionWord"]},QuestionWord:{not:["Determiner"]},Currency:{is:"Noun"},Expression:{not:["Noun","Adjective","Verb","Adverb"]},Abbreviation:{},Url:{not:["HashTag","PhoneNumber","Verb","Adjective","Value","AtMention","Email"]},PhoneNumber:{not:["HashTag","Verb","Adjective","Value","AtMention","Email"]},HashTag:{},AtMention:{is:"Noun",not:["HashTag","Email"]},Emoji:{not:["HashTag","Verb","Adjective","Value","AtMention"]},Emoticon:{not:["HashTag","Verb","Adjective","Value","AtMention"]},Email:{not:["HashTag","Verb","Adjective","Value","AtMention"]},Acronym:{not:["Plural","RomanNumeral"]},Condition:{not:["Verb","Adjective","Noun","Value"]}};var Xs={tags:Object.assign({},Ys,{Verb:{not:["Noun","Adjective","Adverb","Value","Expression"]},PresentTense:{is:"Verb",not:["PastTense"]},Infinitive:{is:"PresentTense",not:["Gerund"]},Gerund:{is:"PresentTense",not:["Copula","FutureTense"]},PastTense:{is:"Verb",not:["PresentTense","Gerund","FutureTense"]},FutureTense:{is:"Verb",not:["PresentTense","Gerund","PastTense"]},Copula:{is:"Verb"},Negative:{is:"Verb"},Modal:{is:"Verb",not:["Infinitive"]},PerfectTense:{is:"Verb",not:["Gerund"]},Pluperfect:{is:"Verb"},Participle:{is:"PastTense"},PhrasalVerb:{is:"Verb"},Particle:{is:"PhrasalVerb",not:["PastTense","PresentTense","Copula","Gerund"]},Auxiliary:{is:"Verb",not:["PastTense","PresentTense","Gerund","Conjunction"]},Conditional:{is:"Verb",not:["Infinitive","Imperative"]},Reflexive:{is:"Verb"},Perfecto:{is:"Verb"},Imperative:{is:"Verb",Subjunctive:["Subjunctive"]},Subjunctive:{is:"Verb",not:["Imperative"]},FirstPerson:{is:"Verb",not:["SecondPerson","ThirdPerson","FirstPersonPlural","SecondPersonPlural","ThirdPersonPlural"]},SecondPerson:{is:"Verb",not:["FirstPerson","ThirdPerson","FirstPersonPlural","SecondPersonPlural","ThirdPersonPlural"]},ThirdPerson:{is:"Verb",not:["FirstPerson","SecondPerson","FirstPersonPlural","SecondPersonPlural","ThirdPersonPlural"]},FirstPersonPlural:{is:"Verb",not:["FirstPerson","SecondPerson","ThirdPerson","SecondPersonPlural","ThirdPersonPlural"]},SecondPersonPlural:{is:"Verb",not:["FirstPerson","SecondPerson","ThirdPerson","FirstPersonPlural","ThirdPersonPlural"]},ThirdPersonPlural:{is:"Verb",not:["FirstPerson","SecondPerson","ThirdPerson","FirstPersonPlural","SecondPersonPlural"]}},{Value:{not:["Verb","Adjective","Adverb"]},Ordinal:{is:"Value",not:["Cardinal"]},Cardinal:{is:"Value",not:["Ordinal"]},Fraction:{is:"Value",not:["Noun"]},Multiple:{is:"Value"},RomanNumeral:{is:"Cardinal",not:["TextValue"]},TextValue:{is:"Value",not:["NumericValue"]},NumericValue:{is:"Value",not:["TextValue"]},Money:{is:"Cardinal"},Percent:{is:"Value"}},{Date:{not:["Verb","Adverb","Adjective"]},Month:{is:"Singular",also:["Date"],not:["Year","WeekDay","Time"]},WeekDay:{is:"Noun",also:["Date"]},Year:{is:"Date",not:["RomanNumeral"]},FinancialQuarter:{is:"Date",not:"Fraction"},Holiday:{is:"Date",also:["Noun"]},Season:{is:"Date"},Timezone:{is:"Noun",also:["Date"],not:["ProperNoun"]},Time:{is:"Date",not:["AtMention"]},Duration:{is:"Noun",also:["Date"]}},Js)};w.plugin(Zs),w.plugin(Xs),w.plugin(Bs),w.plugin({}),w.plugin({}),w.plugin({}),w.plugin({});const ti=function(t,e){return w(t,e)};Object.keys(w).forEach((t=>{w.hasOwnProperty(t)&&(ti[t]=w[t])})),Object.defineProperty(ti,"_world",{value:w._world,writable:!0}),ti.verbose=function(t){let e="undefined"==typeof process?self.env||{}:process.env;return e.DEBUG_TAGS="tagger"===t||!0===t||"",e.DEBUG_MATCH="match"===t||!0===t||"",e.DEBUG_CHUNKS="chunker"===t||!0===t||"",this},ti.version="0.0.1";export{ti as default};
